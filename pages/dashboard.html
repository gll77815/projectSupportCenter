<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>驾驶舱 - 履约协同平台</title>

    <script src="https://cdn.tailwindcss.com"></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <script src="https://unpkg.com/lucide@latest"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        indigo: { 50: '#eef2ff', 500: '#6366f1', 600: '#4f46e5' },
                        slate: { 50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 300: '#cbd5e1', 800: '#1e293b' }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background-color: #F4F7FE;
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .page-section {
            display: none;
            animation: fadeIn 0.3s ease-in-out;
        }

        .page-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(5px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* 导航选中样式 */
        .nav-item.active {
            background-color: #eef2ff;
            color: #4f46e5;
            border-right: 3px solid #4f46e5;
        }

        .center-nav.active {
            background-color: #eef2ff;
            color: #4f46e5;
            font-weight: 600;
            box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
        }

        /* 卡片悬停动画 */
        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.12), 0 10px 10px -5px rgba(0, 0, 0, 0.06);
        }

        /* 卡片选中状态 */
        .efficiency-card.active {
            border: 2px solid #4f46e5;
            background-color: #f8faff;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
        }

        .card-hover.selected {
            background-color: #dbeafe !important;
            border: 2px solid #3b82f6;
            border-radius: 1rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.12), 0 10px 10px -5px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        .card-hover.green.selected {
            background-color: #dcfce7 !important;
            border: 2px solid #22c55e;
            border-radius: 1rem;
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.12), 0 10px 10px -5px rgba(0, 0, 0, 0.06);
            transition: all 0.3s ease;
        }

        /* 按钮交互效果 */
        .btn-primary {
            transition: all 0.3s ease;
        }

        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3);
        }

        /* 平滑滚动 */
        html {
            scroll-behavior: smooth;
        }

        /* 响应式调整 */
        @media (max-width: 768px) {
            .grid-cols-3 {
                grid-template-columns: 1fr;
            }

            .grid-cols-2 {
                grid-template-columns: 1fr;
            }

            .sidebar {
                width: 240px;
            }

            .main-content {
                margin-left: 240px;
            }
        }

        @media (max-width: 480px) {
            #floatingButtons {
                max-width: 90%;
            }

            #decisionButtons button {
                padding: 0.375rem 1rem;
            }
        }
    </style>
</head>

<body class="text-slate-600 h-screen flex flex-col overflow-hidden font-sans">
    <header
        class="bg-white backdrop-blur-md sticky top-0 z-40 py-3 flex justify-between items-center border-b border-slate-100 shadow-sm w-full px-0 md:px-4">
        <div class="flex items-center gap-4">
            <img src="../image-1.png" alt="数字运营平台" class="h-8 cursor-pointer hover:opacity-80 transition-opacity"
                id="systemLogo">
            <div class="flex items-center gap-3">
                <h1 id="pageTitle"
                    class="text-lg font-bold text-slate-800 cursor-pointer hover:text-indigo-600 transition-colors">
                    平台化履约管理</h1>
            </div>
        </div>
        <div class="flex items-center gap-4">
            <div class="relative flex items-center">
                <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"></i>
                <input type="text" placeholder="搜索..."
                    class="pl-10 pr-12 py-1.5 bg-slate-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 w-48 border-transparent transition-all focus:w-64">

            </div>
            <a href="https://ai-know.cscec3b-iti.com/web/chat" target="_blank"
                class="flex items-center justify-center p-1.5 rounded-full hover:bg-slate-50 transition-colors">
                <img src="../image.png" alt="AI知识" class="w-24 h-8">
            </a>
            <button id="nav-notifications"
                class="relative p-2 bg-white rounded-full hover:bg-slate-50 border border-slate-100 shadow-sm">
                <i data-lucide="bell" class="w-5 h-5 text-slate-600"></i>
                <span class="absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 border-2 border-white rounded-full"></span>
            </button>
            <div id="nav-profile"
                class="flex items-center gap-3 p-2 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors group ml-2">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"
                    class="w-8 h-8 rounded-full bg-indigo-50 border-2 border-transparent group-hover:border-indigo-200"
                    alt="User">
                <div class="overflow-hidden">
                    <div class="text-sm font-bold text-slate-800">张经理</div>
                </div>
            </div>
        </div>
    </header>

    <div class="flex flex-1 overflow-hidden">
        <aside class="w-64 bg-white border-r border-slate-100 flex flex-col flex-shrink-0 z-30 transition-all relative">


            <nav class="flex-1 px-4 mt-4 space-y-1 overflow-y-auto no-scrollbar" id="mainNav">

                <div class="mb-6 relative">
                    <div class="bg-slate-50 border border-slate-200 rounded-xl p-3 mx-2 relative">
                        <div class="text-[10px] text-slate-400 mb-1">切换支持中心</div>
                        <div class="flex items-center justify-between cursor-pointer group" onclick="toggleOrgMenu()">
                            <span id="currentOrg" class="text-sm font-bold text-slate-800 truncate">西南公司总包中心</span>
                            <i data-lucide="chevrons-up-down"
                                class="w-4 h-4 text-slate-400 group-hover:text-indigo-600"></i>
                        </div>
                        <div id="orgMenu"
                            class="hidden absolute top-full left-2 right-2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 py-2">
                            <div onclick="changeOrg('西南公司总包中心')"
                                class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer text-indigo-600 font-medium">
                                西南公司总包中心</div>
                            <div onclick="changeOrg('西南公司设计支持中心')"
                                class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer">西南公司设计支持中心</div>
                            <div onclick="changeOrg('西南公司技术支持中心')"
                                class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer">西南公司技术支持中心</div>
                            <div onclick="changeOrg('西南公司商务支持中心')"
                                class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer text-indigo-600 font-medium">
                                西南公司商务支持中心</div>
                            <div onclick="changeOrg('西南公司供应链支持中心')"
                                class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer">西南公司供应链支持中心</div>

                        </div>
                    </div>
                </div>

                <div class="space-y-1 mb-6">
                    <!-- 决策中心卡片 -->
                    <div id="decisionCard"
                        class="bg-blue-50 rounded-2xl p-4 shadow-sm border border-transparent relative group hover:shadow-md transition-all duration-300 mx-2 mb-4 cursor-pointer card-hover">
                        <button class="flex items-center justify-between w-full text-left"
                            onclick="navigateTo('dashboard')">
                            <div class="flex-1 pr-4">
                                <h3 class="font-medium text-slate-800">决策中心</h3>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-slate-400">态势感知、议案决策</p>
                                </div>
                            </div>
                            <div class="w-1/4 flex justify-end items-center">
                                <span class="text-2xl font-bold text-blue-600">8</span>
                            </div>
                        </button>
                    </div>

                    <!-- 任务大厅卡片 -->
                    <div id="tasksCard"
                        class="bg-green-50 rounded-2xl p-4 shadow-sm border border-transparent relative group hover:shadow-md transition-all duration-300 mx-2 mb-4 cursor-pointer card-hover green">
                        <button class="flex items-center justify-between w-full text-left"
                            onclick="navigateTo('tasks')">
                            <div class="flex-1 pr-4">
                                <h3 class="font-medium text-slate-800">任务大厅</h3>
                                <div class="flex items-center mt-1">
                                    <p class="text-xs text-slate-400">重点工作、服务支持</p>
                                </div>
                            </div>
                            <div class="w-1/4 flex justify-end items-center">
                                <span class="text-2xl font-bold text-green-600">6</span>
                            </div>
                        </button>
                    </div>

                    <!-- 服务评价 -->
                    <div class="relative">
                        <button id="nav-evaluation"
                            class="nav-item w-full flex items-center justify-between px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50 relative">
                            <div class="flex items-center gap-3">
                                <i data-lucide="star" class="w-5 h-5"></i> 服务评价
                            </div>
                            <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform"></i>
                        </button>
                        <!-- 二级目录 -->
                        <div class="pl-8 pr-4 py-2 space-y-1">
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('/evaluation/dashboard')">
                                <i data-lucide="file-text" class="w-4 h-4"></i> 项目服务评价
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('evaluation/quarterly')">
                                <i data-lucide="calendar" class="w-4 h-4"></i> 季度项目服务评价
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('evaluation/monthly')">
                                <i data-lucide="calendar-days" class="w-4 h-4"></i> 季度部门中心评价
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('evaluation/leader')">
                                <i data-lucide="user" class="w-4 h-4"></i> 领导评价
                            </button>
                        </div>
                    </div>

                    <!-- 风险预控 -->
                    <div class="relative">
                        <button id="nav-risk"
                            class="nav-item w-full flex items-center justify-between px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                            <div class="flex items-center gap-3">
                                <i data-lucide="shield-alert" class="w-5 h-5"></i> 风险预控
                            </div>
                            <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform"></i>
                        </button>
                        <!-- 二级目录 -->
                        <div class="pl-8 pr-4 py-2 space-y-1">
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('risk/disposal')">
                                <i data-lucide="clipboard-list" class="w-4 h-4"></i> 风险处置
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('risk/issues')">
                                <i data-lucide="alert-circle" class="w-4 h-4"></i> 项目履约问题清单
                            </button>
                        </div>
                    </div>

                    <!-- 绩效考核 -->
                    <div class="relative">
                        <button id="nav-performance"
                            class="nav-item w-full flex items-center justify-between px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                            <div class="flex items-center gap-3">
                                <i data-lucide="trending-up" class="w-5 h-5"></i> 绩效考核
                            </div>
                            <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform"></i>
                        </button>
                        <!-- 二级目录 -->
                        <div class="pl-8 pr-4 py-2 space-y-1">
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('performance/annual')">
                                <i data-lucide="file-check" class="w-4 h-4"></i> 目标责任书
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('performance/annual')">
                                <i data-lucide="award" class="w-4 h-4"></i> 年度绩效考核
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('performance/details')">
                                <i data-lucide="list-checks" class="w-4 h-4"></i> 履职达成明细
                            </button>
                        </div>
                    </div>



                    <!-- 系统设置 -->
                    <div class="relative">
                        <button id="nav-settings"
                            class="nav-item w-full flex items-center justify-between px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                            <div class="flex items-center gap-3">
                                <i data-lucide="settings" class="w-5 h-5"></i> 系统设置
                            </div>
                            <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 transition-transform"></i>
                        </button>
                        <!-- 二级目录 -->
                        <div class="pl-8 pr-4 py-2 space-y-1">
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('settings/tags')">
                                <i data-lucide="target" class="w-4 h-4"></i> 中心价值点配置
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="navigateTo('settings/projects')">
                                <i data-lucide="folder" class="w-4 h-4"></i> 服务项目设置
                            </button>
                            <button
                                class="w-full text-left flex items-center gap-2 px-3 py-2 text-sm text-slate-600 hover:bg-slate-50 rounded-lg transition-colors"
                                onclick="window.open('https://sjxk.cscec3b-iti.com/construction-management-platform-front/#/business-registration/activity-regist', '_blank')">
                                <i data-lucide="clock" class="w-4 h-4"></i> 任务自动调度设置
                            </button>
                        </div>
                    </div>
                </div>

                <div class="border-t border-slate-100 my-4"></div>

                <div class="mb-6 space-y-1">
                </div>

                <div class="border-t border-slate-100 my-4"></div>

            </nav>


        </aside>

        <main class="flex-1 flex flex-col min-w-0 overflow-hidden relative bg-[#F4F7FE]">
            <!-- 面包屑导航 - 移到contentContainer外部，确保不会被路由内容替换 -->
            <div class="p-3 border-b border-slate-100 bg-[#F4F7FE]">
                <div class="flex items-center gap-2 text-sm" id="breadcrumbNav">
                    <button class="flex items-center gap-1 text-slate-600 hover:text-indigo-600 transition-colors"
                        onclick="navigateTo('/')">
                        <i data-lucide="grid" class="w-4 h-4"></i>
                    </button>
                    <span class="text-slate-400">/</span>
                    <span class="text-slate-600 hover:text-indigo-600 transition-colors cursor-pointer">首页</span>
                    <span class="text-slate-400">/</span>
                    <span class="text-slate-800 font-medium" id="currentPageName">驾驶舱</span>
                    <button
                        class="ml-auto flex items-center gap-1.5 text-slate-600 hover:text-indigo-600 transition-colors"
                        onclick="goBack()">
                        <i data-lucide="arrow-left" class="w-4 h-4"></i>
                        <span>返回上级</span>
                    </button>
                </div>
            </div>
            <div class="flex-1 overflow-y-auto p-6 relative scroll-smooth" id="contentContainer">

                <div id="dashboard" class="page-section active max-w-[1600px] mx-auto space-y-6 pb-20 relative">
                    <!-- 滑块浮窗组件 -->
                    <!-- <div class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 bg-white rounded-full shadow-md border border-slate-100 px-1 py-1 w-full max-w-md">
                <div class="flex items-center gap-1 justify-center">
                    <button id="business-status-btn" class="px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-indigo-600 text-white shadow-sm shadow-indigo-100" onclick="scrollToSection('business-status')">
                        业务态势
                    </button>
                    <button id="decision-meeting-btn" class="px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 text-slate-600 hover:bg-slate-50" onclick="scrollToSection('decision-meeting')">
                        决策会议
                    </button>
                </div>
            </div> -->
                    <!-- 业务态势区域 -->
                    <div id="business-status" class="space-y-6">
                        <!-- 创效态势 -->
                        <div class="space-y-2">
                            <h2 class="text-xl font-bold text-slate-800">创效态势</h2>
                            <div class="flex flex-col lg:flex-row gap-6">
                                <!-- 创效态势卡片 -->
                                <div class="lg:w-[35%]">
                                    <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-2 lg:grid-cols-1 gap-4">
                                        <!-- 人均产值提升率卡片（已有保持不变） -->
                                        <div class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover efficiency-card"
                                            data-index="0">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-blue-100 group-hover:text-blue-600 transition-all duration-300">
                                                <i data-lucide="users"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">人均产值提升率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">12.4%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +5.2%</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 一级节点完成率卡片 -->
                                        <div class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover efficiency-card"
                                            data-index="1">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-green-100 group-hover:text-green-600 transition-all duration-300">
                                                <i data-lucide="check-circle"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">一级节点完成率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">88.5%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +3.1%</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 设计创效率卡片 -->
                                        <div class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover efficiency-card"
                                            data-index="2">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-purple-100 group-hover:text-purple-600 transition-all duration-300">
                                                <i data-lucide="palette"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">设计创效率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">76.2%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +2.8%</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 单采成本降低率卡片 -->
                                        <div class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover efficiency-card"
                                            data-index="3">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-orange-100 group-hover:text-orange-600 transition-all duration-300">
                                                <i data-lucide="dollar-sign"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">单采成本降低率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">15.8%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +4.3%</span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 结算核对量差效益率卡片 -->
                                        <div class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover efficiency-card"
                                            data-index="4">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-indigo-100 group-hover:text-indigo-600 transition-all duration-300">
                                                <i data-lucide="calculator"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">结算核对量差效益率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">9.2%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +1.5%</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 创效态势趋势图 -->
                                <div class="lg:w-[65%]">
                                    <div
                                        class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 relative group h-full">
                                        <div class="flex justify-between items-center mb-6">
                                            <h2 id="efficiencyChartTitle" class="font-bold text-lg text-slate-800">
                                                服务项目人均产值趋势</h3>
                                        </div>
                                        <div
                                            class="absolute top-6 right-6 opacity-0 group-hover:opacity-100 transition-opacity">
                                            <button onclick="navigateTo('performance.html')"
                                                class="text-indigo-600 hover:text-indigo-700 text-xs font-medium flex items-center gap-1">
                                                查看更多 <i data-lucide="chevron-right" class="w-3 h-3"></i>
                                            </button>
                                        </div>
                                        <div class="h-2 w-full p-4 mb-4">
                                            <canvas id="efficiencyChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 服务态势 -->
                        <div class="space-y-2">
                            <h2 class="text-xl font-bold text-slate-800">服务态势</h2>
                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                <!-- 服务态势卡片 -->
                                <div class="lg:col-span-1">
                                    <div class="grid grid-cols-1 gap-4">
                                        <!-- 任务超期率卡片 -->
                                        <div
                                            class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-red-100 group-hover:text-red-600 transition-all duration-300">
                                                <i data-lucide="clock"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">任务超期率</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">8.2%</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-red-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +1.5%</span>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- 服务满意度卡片（已有保持不变） -->
                                        <div
                                            class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                            <div
                                                class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-yellow-100 group-hover:text-yellow-500 transition-all duration-300">
                                                <i data-lucide="star"
                                                    class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                            </div>
                                            <div class="flex flex-col">
                                                <span class="text-slate-500 text-xs font-medium mb-2">服务满意度</span>
                                                <h3 class="text-2xl font-bold text-slate-800 mb-2">4.8</h3>
                                                <div class="flex items-center gap-1 text-xs">
                                                    <span class="text-emerald-500 font-medium flex items-center"><i
                                                            data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i>
                                                        +0.1</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- 服务态势统计 -->
                                <div class="lg:col-span-2">
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                        <!-- 任务状态统计（已有保持不变） -->
                                        <div
                                            class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 flex flex-col relative group h-auto min-h-[340px]">
                                            <div class="flex justify-between items-center mb-2">
                                                <h3 class="font-bold text-base text-slate-800">任务状态统计</h3>
                                            </div>
                                            <div class="flex-1 relative flex flex-col items-center justify-center">
                                                <div class="h-[180px] w-[180px] relative mb-3">
                                                    <canvas id="taskStatusChart"></canvas>
                                                    <div
                                                        class="absolute inset-0 flex flex-col items-center justify-center pointer-events-none">
                                                        <span class="text-3xl font-bold text-slate-800">100</span>
                                                        <span class="text-xs text-slate-400 mt-1">任务总数</span>
                                                    </div>
                                                </div>
                                                <div class="grid grid-cols-2 gap-x-6 gap-y-2 mt-3 w-full px-4">
                                                    <div class="flex items-center justify-between">
                                                        <div class="flex items-center gap-2"><span
                                                                class="w-3 h-3 rounded-full bg-[#4F46E5]"></span><span
                                                                class="text-sm text-slate-500">进行中</span></div>
                                                        <span class="text-sm font-bold text-slate-800">45</span>
                                                    </div>
                                                    <div class="flex items-center justify-between">
                                                        <div class="flex items-center gap-2"><span
                                                                class="w-3 h-3 rounded-full bg-[#fbbf24]"></span><span
                                                                class="text-sm text-slate-500">待确认</span></div>
                                                        <span class="text-sm font-bold text-slate-800">12</span>
                                                    </div>
                                                    <div class="flex items-center justify-between">
                                                        <div class="flex items-center gap-2"><span
                                                                class="w-3 h-3 rounded-full bg-[#10B981]"></span><span
                                                                class="text-sm text-slate-500">待评价</span></div>
                                                        <span class="text-sm font-bold text-slate-800">20</span>
                                                    </div>
                                                    <div class="flex items-center justify-between">
                                                        <div class="flex items-center gap-2"><span
                                                                class="w-3 h-3 rounded-full bg-[#94a3b8]"></span><span
                                                                class="text-sm text-slate-500">已归档</span></div>
                                                        <span class="text-sm font-bold text-slate-800">23</span>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- 支持中心满意度矩阵 - 矩形树图 -->
                                        <div
                                            class="bg-white rounded-2xl p-5 shadow-sm border border-slate-100 relative group h-auto min-h-[340px]">
                                            <div class="flex justify-between items-center mb-3">
                                                <h3 class="font-bold text-base text-slate-800">支持中心满意度矩阵</h3>
                                                <span class="text-xs text-slate-400">矩形树图</span>
                                            </div>
                                            <div id="satisfactionMatrix" class="w-full h-[240px]">
                                                <!-- 矩形树图结构 -->
                                                <div class="grid grid-cols-4 gap-2 h-full">
                                                    <!-- 第一行 -->
                                                    <div
                                                        class="col-span-2 bg-blue-800 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        行政部</div>
                                                    <div
                                                        class="col-span-1 bg-red-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        推广部</div>
                                                    <div class="col-span-1 grid grid-rows-2 gap-2">
                                                        <div
                                                            class="bg-purple-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                            广告部</div>
                                                        <div
                                                            class="bg-blue-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                            公关部</div>
                                                    </div>
                                                    <!-- 第二行 -->
                                                    <div
                                                        class="col-span-2 bg-orange-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        人事部</div>
                                                    <div
                                                        class="col-span-2 bg-purple-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        企划部</div>
                                                    <!-- 第三行 -->
                                                    <div
                                                        class="col-span-1 bg-yellow-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        职能总监</div>
                                                    <div
                                                        class="col-span-1 bg-teal-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        客服部</div>
                                                    <div
                                                        class="col-span-1 bg-blue-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        售后部</div>
                                                    <div
                                                        class="col-span-1 bg-blue-900 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        市场总监</div>
                                                    <!-- 第四行 -->
                                                    <div
                                                        class="col-span-1 bg-green-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        运营总监</div>
                                                    <div class="col-span-1 grid grid-rows-2 gap-2">
                                                        <div
                                                            class="bg-purple-700 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                            财务部</div>
                                                        <div
                                                            class="bg-purple-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                            服务总监</div>
                                                    </div>
                                                    <div
                                                        class="col-span-1 bg-blue-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        技术部</div>
                                                    <div
                                                        class="col-span-1 bg-teal-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">
                                                        总经理</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 业务排行榜 -->
                        <div class="space-y-2">
                            <h2 class="text-xl font-bold text-slate-800">业务排行榜</h2>
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                <!-- 产值排行 -->
                                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100">
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="font-bold text-lg text-slate-800">产值排行</h3>
                                        <div class="relative">
                                            <select
                                                class="appearance-none text-xs text-slate-600 bg-slate-50 px-2 py-0.5 rounded cursor-pointer font-medium pr-8 focus:outline-none focus:ring-2 focus:ring-slate-100">
                                                <option>本季度</option>
                                                <option>本月度</option>
                                                <option>本年度</option>
                                            </select>
                                            <i data-lucide="chevron-down"
                                                class="w-3 h-3 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"></i>
                                        </div>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-blue-100 text-blue-700 font-bold flex items-center justify-center text-xs">1</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">设计中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/设计支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">¥ 1,284k</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center text-xs">2</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">技术中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/技术支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">¥ 1,156k</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-orange-50 text-orange-600 font-bold flex items-center justify-center text-xs">3</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">供应链中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/供应链支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">¥ 987k</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-blue-50 text-blue-600 font-bold flex items-center justify-center text-xs">4</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">商务中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/商务支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">¥ 865k</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-indigo-50 text-indigo-600 font-bold flex items-center justify-center text-xs">5</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">总包中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/总包管理中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">¥ 756k</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 服务评价排行 -->
                                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100">
                                    <div class="flex justify-between items-center mb-4">
                                        <h3 class="font-bold text-lg text-slate-800">服务评价排行</h3>
                                        <div class="relative">
                                            <select
                                                class="appearance-none text-xs text-slate-600 bg-slate-50 px-2 py-0.5 rounded cursor-pointer font-medium pr-8 focus:outline-none focus:ring-2 focus:ring-slate-100">
                                                <option>本季度</option>
                                                <option>本月度</option>
                                                <option>本年度</option>
                                            </select>
                                            <i data-lucide="chevron-down"
                                                class="w-3 h-3 absolute right-2 top-1/2 -translate-y-1/2 text-slate-400"></i>
                                        </div>
                                    </div>
                                    <div class="space-y-4">
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-blue-100 text-blue-700 font-bold flex items-center justify-center text-xs">1</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">设计中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/设计支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">4.9</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-slate-100 text-slate-600 font-bold flex items-center justify-center text-xs">2</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">技术中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/技术支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">4.8</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-orange-50 text-orange-600 font-bold flex items-center justify-center text-xs">3</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">供应链中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/供应链支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">4.7</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-blue-50 text-blue-600 font-bold flex items-center justify-center text-xs">4</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">商务中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/商务支持中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">4.6</span>
                                        </div>
                                        <div class="flex items-center justify-between">
                                            <div class="flex items-center gap-3">
                                                <span
                                                    class="w-6 h-6 rounded-full bg-indigo-50 text-indigo-600 font-bold flex items-center justify-center text-xs">5</span>
                                                <div>
                                                    <span class="font-medium text-slate-700">总包中心</span>
                                                    <div class="text-xs text-slate-400">西南公司/总部/总包管理中心</div>
                                                </div>
                                            </div>
                                            <span class="font-bold text-lg text-slate-800">4.5</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 风险预控 -->
                        <div class="space-y-2">
                            <h2 class="text-xl font-bold text-slate-800">风险预控</h2>
                            <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-5">
                                <!-- 超合同工期项目数卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-orange-100 group-hover:text-orange-600 transition-all duration-300">
                                        <i data-lucide="calendar"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">超合同工期项目数</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">5</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-red-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i> +2</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 履约风险项目数卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-red-100 group-hover:text-red-600 transition-all duration-300">
                                        <i data-lucide="alert-triangle"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">履约风险项目数</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">3</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-emerald-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-down-right" class="w-3 h-3 mr-1"></i> -1</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 一级节点调整项目数卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-blue-100 group-hover:text-blue-600 transition-all duration-300">
                                        <i data-lucide="refresh-cw"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">一级节点调整项目数</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">8</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-red-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i> +3</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 状态变更项目卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-purple-100 group-hover:text-purple-600 transition-all duration-300">
                                        <i data-lucide="activity"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">状态变更项目</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">12</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-red-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i> +4</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 质量安全问题突出项目卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-red-100 group-hover:text-red-600 transition-all duration-300">
                                        <i data-lucide="shield"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">质量安全问题突出项目</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">2</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-emerald-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-down-right" class="w-3 h-3 mr-1"></i> -1</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 招采滞后项目数卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-yellow-100 group-hover:text-yellow-500 transition-all duration-300">
                                        <i data-lucide="shopping-cart"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">招采滞后项目数</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">6</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-red-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i> +2</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 风险处置超期数卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-red-100 group-hover:text-red-600 transition-all duration-300">
                                        <i data-lucide="clock"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <span class="text-slate-500 text-xs font-medium mb-2">风险处置超期数</span>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">4</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-emerald-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-down-right" class="w-3 h-3 mr-1"></i> -1</span>
                                        </div>
                                    </div>
                                </div>
                                <!-- 月度重点工作达成率卡片 -->
                                <div
                                    class="bg-white rounded-2xl sm:p-3 md:p-4 lg:p-5 xl:p-6 shadow-sm border border-slate-100 relative group hover:shadow-md transition-all duration-300 card-hover">
                                    <div
                                        class="absolute sm:top-3 sm:right-3 md:top-4 md:right-4 lg:top-5 lg:right-5 xl:top-6 xl:right-6 text-green-100 group-hover:text-green-600 transition-all duration-300">
                                        <i data-lucide="check-square"
                                            class="sm:w-4 sm:h-4 md:w-5 md:h-5 lg:w-6 lg:h-6 xl:w-7 xl:h-7"></i>
                                    </div>
                                    <div class="flex flex-col">
                                        <div class="flex items-center gap-2 mb-2">
                                            <span class="text-slate-500 text-xs font-medium">月度重点工作达成率</span>
                                            <div class="relative">
                                                <select
                                                    class="appearance-none text-xs text-green-600 bg-green-50 px-2 py-0.5 rounded cursor-pointer font-medium pr-6 focus:outline-none focus:ring-2 focus:ring-green-100">
                                                    <option>1月</option>
                                                    <option>2月</option>
                                                    <option>3月</option>
                                                </select>
                                                <i data-lucide="chevron-down"
                                                    class="w-3 h-3 absolute right-1 top-1/2 -translate-y-1/2 text-green-600"></i>
                                            </div>
                                        </div>
                                        <h3 class="text-2xl font-bold text-slate-800 mb-2">78.5%</h3>
                                        <div class="flex items-center gap-1 text-xs">
                                            <span class="text-emerald-500 font-medium flex items-center"><i
                                                    data-lucide="arrow-up-right" class="w-3 h-3 mr-1"></i> +5.2%</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 实时风险监控列表（已有保持不变） -->
                        <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 mt-6">
                            <div class="flex justify-between items-center mb-6">
                                <h3 class="font-bold text-lg text-slate-800">实时风险监控</h3>
                                <span class="px-3 py-1 bg-red-50 text-red-600 text-xs font-bold rounded">3 待处理</span>
                            </div>
                            <div class="space-y-4">
                                <div
                                    class="p-4 border border-slate-100 rounded-xl bg-white flex gap-4 shadow-sm hover:shadow-md transition-shadow">
                                    <div
                                        class="p-3 h-10 w-10 bg-orange-50 text-orange-500 rounded-lg flex-shrink-0 flex items-center justify-center">
                                        <i data-lucide="clock" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between mb-2">
                                            <h4 class="font-bold text-slate-800">进度滞后</h4>
                                            <span class="text-sm text-slate-400">10:30</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mb-3">设计中心-机场T3航站楼图纸深化任务已逾期2天</p>
                                        <div class="flex gap-2">
                                            <button
                                                class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-lg hover:bg-indigo-700 transition-colors font-medium shadow-sm shadow-indigo-100">
                                                立即处理
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-orange-100 text-orange-600 text-xs rounded-lg hover:bg-orange-200 transition-colors font-medium">
                                                督办
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-blue-100 text-blue-600 text-xs rounded-lg hover:bg-blue-200 transition-colors font-medium">
                                                转派
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-red-100 text-red-600 text-xs rounded-lg hover:bg-red-200 transition-colors font-medium">
                                                提级
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-slate-100 text-slate-600 text-xs rounded-lg hover:bg-slate-200 transition-colors font-medium">
                                                忽略
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div
                                    class="p-4 border border-slate-100 rounded-xl bg-white flex gap-4 shadow-sm hover:shadow-md transition-shadow">
                                    <div
                                        class="p-3 h-10 w-10 bg-red-50 text-red-500 rounded-lg flex-shrink-0 flex items-center justify-center">
                                        <i data-lucide="thumbs-down" class="w-5 h-5"></i>
                                    </div>
                                    <div class="flex-1">
                                        <div class="flex justify-between mb-2">
                                            <h4 class="font-bold text-slate-800">差评预警</h4>
                                            <span class="text-sm text-slate-400">09:15</span>
                                        </div>
                                        <p class="text-sm text-slate-500 mb-3">供应链中心-钢材采购任务收到2星评价，请核实。</p>
                                        <div class="flex gap-2">
                                            <button
                                                class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-lg hover:bg-indigo-700 transition-colors font-medium shadow-sm shadow-indigo-100">
                                                立即处理
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-orange-100 text-orange-600 text-xs rounded-lg hover:bg-orange-200 transition-colors font-medium">
                                                督办
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-blue-100 text-blue-600 text-xs rounded-lg hover:bg-blue-200 transition-colors font-medium">
                                                转派
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-red-100 text-red-600 text-xs rounded-lg hover:bg-red-200 transition-colors font-medium">
                                                提级
                                            </button>
                                            <button
                                                class="px-3 py-1.5 bg-slate-100 text-slate-600 text-xs rounded-lg hover:bg-slate-200 transition-colors font-medium">
                                                忽略
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                    </div>

                    <!-- 决策会议区域 -->
                    <!-- <div id="decision-meeting" class="space-y-6 mt-12">
                <div class="bg-white rounded-2xl p-6 shadow-sm border border-slate-100 min-h-[600px]">
                    <div class="flex justify-between items-center mb-6">
                        <h3 class="font-bold text-lg text-slate-800">决策会议</h3>
                        <button class="text-indigo-600 hover:text-indigo-700 text-sm font-medium flex items-center gap-1" onclick="loadDecisionMeetingContent()">
                            加载决议议案 <i data-lucide="chevron-right" class="w-3 h-3"></i>
                        </button>
                    </div>
                    <div id="decision-meeting-content" class="space-y-4">
                        <div class="flex flex-col items-center justify-center py-12 text-center">
                            <i data-lucide="calendar" class="w-12 h-12 text-slate-300 mb-4"></i>
                            <p class="text-slate-500 mb-2">点击上方按钮加载决策会议内容</p>
                            <p class="text-xs text-slate-400">或点击顶部滑块浮窗中的"决策会议"选项</p>
                        </div>
                    </div>
                </div>
            </div> -->
                </div>
            </div>
    </div>

    <!-- 悬浮按钮 -->
    <div id="floatingButtons"
        class="fixed bottom-6 left-1/2 transform -translate-x-1/2 z-50 bg-white rounded-full shadow-md border border-slate-100 px-1 py-1 w-full max-w-md ">
        <div class="flex items-center gap-1 justify-center" id="decisionButtons">
            <button id="business-status-btn"
                class="px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-indigo-600 text-white shadow-sm shadow-indigo-100">
                业务态势
            </button>
            <button id="resolutions-btn"
                class="px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 text-slate-600 hover:bg-slate-50">
                议题清单
            </button>
            <button id="decision-meeting-btn"
                class="px-6 py-2 rounded-full text-sm font-medium transition-all duration-300 text-slate-600 hover:bg-slate-50">
                决策会议
            </button>
        </div>
        <div class="flex items-center gap-1 justify-center" id="tasksButtons" style="display: none;">
            <button id="service-support-btn"
                class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 bg-indigo-600 text-white shadow-sm shadow-indigo-100">
                服务支持
            </button>
            <button id="monthly-plan-btn"
                class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 text-slate-600 hover:bg-slate-50">
                月度工作计划
            </button>
            <button id="quarterly-work-btn"
                class="px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 text-slate-600 hover:bg-slate-50">
                季度重点工作
            </button>
        </div>
    </div>
    </main>

    </div>

    <script>
        // 初始化 Lucide 图标
        lucide.createIcons();

        // 路由配置对象
        const routes = {
            '/': {
                name: 'dashboard',
                title: '驾驶舱',
                path: 'dashboard.html'
            },
            '/dashboard': {
                name: 'dashboard',
                title: '驾驶舱',
                path: 'dashboard.html'
            },
            '/tasks': {
                name: 'tasks',
                title: '任务大厅',
                path: 'tasks.html'
            },
            '/decision': {
                name: 'decision',
                title: '决策中心',
                path: 'dashboard.html'
            },
            '/evaluation/dashboard': {
                name: 'evaluation-dashboard',
                title: '服务评价看板',
                path: 'evaluation.html'
            },
            '/evaluation/quarterly': {
                name: 'evaluation-quarterly',
                title: '季度项目服务评价',
                path: 'project-evaluation.html'
            },
            '/evaluation/monthly': {
                name: 'evaluation-monthly',
                title: '月度部门中心评价',
                path: 'department-evaluation.html'
            },
            '/evaluation/leader': {
                name: 'evaluation-leader',
                title: '领导评价',
                path: 'leadership-evaluation.html'
            },
            '/risk': {
                name: 'risk',
                title: '风险预控',
                path: 'risk.html'
            },
            '/risk/disposal': {
                name: 'risk-disposal',
                title: '风险处置',
                path: 'risk-management.html'
            },
            '/risk/issues': {
                name: 'risk-issues',
                title: '项目履约问题清单',
                path: 'performance_issues.html'
            },
            '/performance/dashboard': {
                name: 'performance-dashboard',
                title: '目标绩效看板',
                path: 'performance-dashboard.html'
            },
            '/performance/contract': {
                name: 'performance-contract',
                title: '目标责任书',
                path: 'annual-performance.html'
            },
            '/performance/annual': {
                name: 'performance-annual',
                title: '年度绩效考核',
                path: 'annual-performance.html'
            },
            '/performance/details': {
                name: 'performance-details',
                title: '履职达成明细',
                path: 'value-effectiveness.html'
            },
            '/settings': {
                name: 'settings',
                title: '系统设置',
                path: 'settings.html'
            },
            '/settings/tags': {
                name: 'settings-tags',
                title: '中心价值点配置',
                path: 'settings-tags.html'
            },
            '/settings/indicators': {
                name: 'settings-indicators',
                title: '目标指标库设置',
                path: 'settings-tags.html'
            },
            '/settings/projects': {
                name: 'settings-projects',
                title: '服务项目设置',
                path: 'settings-projects.html'
            },
            '/settings/scheduling': {
                name: 'settings-scheduling',
                title: '任务自动调度设置',
                path: 'settings-scheduling.html'
            },
            '/profile': {
                name: 'profile',
                title: '个人中心',
                path: 'profile.html'
            },
            '/notifications': {
                name: 'notifications',
                title: '通知中心',
                path: 'notifications.html'
            },
            '/resolutions': {
                name: 'resolutions',
                title: '议题清单',
                path: 'resolutions.html'
            },
            '/decision-meeting': {
                name: 'decision-meeting',
                title: '决策会议',
                path: 'decision-meeting.html'
            },
            '/monthly-plan': {
                name: 'monthly-plan',
                title: '月度工作计划',
                path: 'monthly-plan.html'
            }
        };

        // 导航函数
        function navigateTo(page) {
            if (page.startsWith('http')) {
                window.open(page, '_blank');
            } else {
                // 构建路径
                let path = page;
                if (!path.startsWith('/')) {
                    if (path === 'index.html') {
                        path = '/';
                    } else if (path.includes('.html')) {
                        path = '/' + path.replace('.html', '');
                    } else {
                        path = '/' + path;
                    }
                }

                // 查找路由配置
                const route = routes[path] || routes['/'];
                if (route && route.path) {
                    // 直接跳转到对应的HTML文件
                    window.location.href = route.path;
                } else {
                    // 默认导航
                    window.location.href = page;
                }
            }
        }

        // 组织菜单切换
        function toggleOrgMenu() {
            const menu = document.getElementById('orgMenu');
            menu.classList.toggle('hidden');
        }

        // 切换组织
        function changeOrg(orgName) {
            document.getElementById('currentOrg').textContent = orgName;
            document.getElementById('orgMenu').classList.add('hidden');
        }

        // 二级目录展开/收起功能
        function initSubmenuToggle() {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => {
                const parent = item.parentElement;
                const submenu = parent.querySelector('.pl-8');
                if (submenu) {
                    item.addEventListener('click', function (e) {
                        // 阻止事件冒泡，避免触发其他点击事件
                        e.stopPropagation();

                        // 切换二级目录显示/隐藏
                        if (submenu.style.display === 'none') {
                            submenu.style.display = 'block';
                            // 旋转箭头图标
                            const arrow = this.querySelector('[data-lucide="chevron-down"]');
                            if (arrow) {
                                arrow.style.transform = 'rotate(180deg)';
                            }
                        } else {
                            submenu.style.display = 'none';
                            // 恢复箭头图标
                            const arrow = this.querySelector('[data-lucide="chevron-down"]');
                            if (arrow) {
                                arrow.style.transform = 'rotate(0deg)';
                            }
                        }
                    });

                    // 默认收起二级目录
                    submenu.style.display = 'block';
                }
            });
        }

        // 返回上级页面函数
        function goBack() {
            window.history.back();
        }

        // 平滑滚动到指定区域
        function scrollToSection(sectionId) {
            // 更新按钮状态
            if (sectionId === 'business-status') {
                document.getElementById('business-status-btn').classList.add('bg-indigo-600', 'text-white', 'shadow-sm', 'shadow-indigo-100');
                document.getElementById('business-status-btn').classList.remove('text-slate-600', 'hover:bg-slate-50');
                document.getElementById('decision-meeting-btn').classList.remove('bg-indigo-600', 'text-white', 'shadow-sm', 'shadow-indigo-100');
                document.getElementById('decision-meeting-btn').classList.add('text-slate-600', 'hover:bg-slate-50');
            } else if (sectionId === 'decision-meeting') {
                document.getElementById('decision-meeting-btn').classList.add('bg-indigo-600', 'text-white', 'shadow-sm', 'shadow-indigo-100');
                document.getElementById('decision-meeting-btn').classList.remove('text-slate-600', 'hover:bg-slate-50');
                document.getElementById('business-status-btn').classList.remove('bg-indigo-600', 'text-white', 'shadow-sm', 'shadow-indigo-100');
                document.getElementById('business-status-btn').classList.add('text-slate-600', 'hover:bg-slate-50');

                // 加载决策会议内容
                // loadDecisionMeetingContent();
            }

            // 平滑滚动到对应区域
            const section = document.getElementById(sectionId);
            if (section) {
                section.scrollIntoView({ behavior: 'smooth' });
            }
        }

        // 加载决策会议内容
        // function loadDecisionMeetingContent() {
        //     try {
        //         const contentDiv = document.getElementById('decision-meeting-content');

        //         if (!contentDiv) {
        //             console.error('Decision meeting content div not found');
        //             return;
        //         }

        //         // 显示加载状态
        //         contentDiv.innerHTML = `
        //             <div class="flex flex-col items-center justify-center py-12">
        //                 <div class="w-10 h-10 border-4 border-indigo-100 border-t-indigo-600 rounded-full animate-spin mb-4"></div>
        //                 <p class="text-slate-600">加载中...</p>
        //             </div>
        //         `;

        //         // 使用fetch加载resolutions.html内容，使用完整路径
        //         fetch('resolutions.html')
        //             .then(response => {
        //                 if (!response.ok) {
        //                     throw new Error(`Network response was not ok: ${response.status}`);
        //                 }
        //                 return response.text();
        //             })
        //             .then(html => {
        //                 try {
        //                     // 解析HTML并提取main内容
        //                     const parser = new DOMParser();
        //                     const doc = parser.parseFromString(html, 'text/html');
        //                     const mainContent = doc.querySelector('main');

        //                     if (mainContent) {
        //                         // 将main内容添加到当前页面
        //                         contentDiv.innerHTML = '';
        //                         contentDiv.appendChild(mainContent);

        //                         // 重新初始化Lucide图标
        //                         if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
        //                             lucide.createIcons();
        //                         }

        //                         // 重新初始化态势卡片点击事件
        //                         if (typeof initializeStatusCards === 'function') {
        //                             initializeStatusCards();
        //                         }
        //                     } else {
        //                         contentDiv.innerHTML = `
        //                             <div class="flex flex-col items-center justify-center py-12 text-center">
        //                                 <i data-lucide="alert-circle" class="w-12 h-12 text-red-400 mb-4"></i>
        //                                 <p class="text-slate-500 mb-2">加载失败，请重试</p>
        //                                 <button class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors" onclick="loadDecisionMeetingContent()">
        //                                     重新加载
        //                                 </button>
        //                             </div>
        //                         `;
        //                         if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
        //                             lucide.createIcons();
        //                         }
        //                     }
        //                 } catch (parseError) {
        //                     console.error('Error parsing HTML:', parseError);
        //                     contentDiv.innerHTML = `
        //                         <div class="flex flex-col items-center justify-center py-12 text-center">
        //                             <i data-lucide="alert-circle" class="w-12 h-12 text-red-400 mb-4"></i>
        //                             <p class="text-slate-500 mb-2">加载失败，请重试</p>
        //                             <button class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors" onclick="loadDecisionMeetingContent()">
        //                                 重新加载
        //                             </button>
        //                         </div>
        //                     `;
        //                     if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
        //                         lucide.createIcons();
        //                     }
        //                 }
        //             })
        //             .catch(error => {
        //                 console.error('Error loading resolutions.html:', error);
        //                 contentDiv.innerHTML = `
        //                     <div class="flex flex-col items-center justify-center py-12 text-center">
        //                         <i data-lucide="alert-circle" class="w-12 h-12 text-red-400 mb-4"></i>
        //                         <p class="text-slate-500 mb-2">加载失败，请检查网络连接</p>
        //                         <button class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors" onclick="loadDecisionMeetingContent()">
        //                             重新加载
        //                         </button>
        //                     </div>
        //                 `;
        //                 if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
        //                     lucide.createIcons();
        //                 }
        //             });
        //     } catch (error) {
        //         console.error('Error in loadDecisionMeetingContent:', error);
        //         const contentDiv = document.getElementById('decision-meeting-content');
        //         if (contentDiv) {
        //             contentDiv.innerHTML = `
        //                 <div class="flex flex-col items-center justify-center py-12 text-center">
        //                     <i data-lucide="alert-circle" class="w-12 h-12 text-red-400 mb-4"></i>
        //                     <p class="text-slate-500 mb-2">加载失败，请重试</p>
        //                     <button class="mt-4 px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm font-medium hover:bg-indigo-700 transition-colors" onclick="loadDecisionMeetingContent()">
        //                         重新加载
        //                     </button>
        //                 </div>
        //             `;
        //             if (typeof lucide !== 'undefined' && typeof lucide.createIcons === 'function') {
        //                 lucide.createIcons();
        //             }
        //         }
        //     }
        // }

        // 从resolutions.html复制的函数
        function initializeStatusCards() {
            // 获取所有态势卡片
            const statusCards = document.querySelectorAll('.status-card');

            statusCards.forEach(card => {
                card.addEventListener('click', function () {
                    // 检查当前卡片是否已选中
                    const isCurrentlySelected = this.classList.contains('card-selected');

                    // 先移除所有卡片的选中状态
                    statusCards.forEach(c => c.classList.remove('card-selected'));

                    // 如果当前卡片未选中，则添加选中状态
                    if (!isCurrentlySelected) {
                        this.classList.add('card-selected');

                        // 执行筛选逻辑
                        const filterStatus = this.getAttribute('data-filter');
                        filterResolutionsByStatus(filterStatus);
                    } else {
                        // 取消筛选，显示所有议案
                        showAllResolutions();
                    }
                });
            });
        }

        function filterResolutionsByStatus(status) {
            console.log('筛选议案状态:', status);

            // 获取所有议案项
            const resolutionItems = document.querySelectorAll('.resolution-item');

            resolutionItems.forEach(item => {
                // 检查议案的状态是否匹配
                const statusElement = item.querySelector('.status-badge');
                if (statusElement && statusElement.textContent.trim() === status) {
                    // 显示匹配的议案
                    item.style.display = 'table-row';
                } else {
                    // 隐藏不匹配的议案
                    item.style.display = 'none';
                }
            });
        }

        function showAllResolutions() {
            // 获取所有议案项
            const resolutionItems = document.querySelectorAll('.resolution-item');

            // 显示所有议案
            resolutionItems.forEach(item => {
                item.style.display = 'table-row';
            });
        }

        function switchPage(pageId, event) {
            // 阻止事件冒泡，确保按钮点击优先级高于卡片展开
            if (event) {
                event.stopPropagation();
            }
            // 隐藏所有页面
            document.querySelectorAll('.page-section').forEach(section => {
                section.classList.remove('active');
            });
            // 显示目标页面
            document.getElementById(pageId).classList.add('active');
            // 更新页面标题
            if (pageId === 'resolutions-list') {
                document.getElementById('pageTitle').textContent = '决议议案清单';
            } else if (pageId === 'resolution-report') {
                document.getElementById('pageTitle').textContent = '决议议案提报';
            } else if (pageId === 'resolution-detail') {
                document.getElementById('pageTitle').textContent = '决议议案详情';
            }
        }

        function openResolutionReport() {
            switchPage('resolution-report');
        }

        function openResolutionDetail(resolutionId, resolutionName, status, category, submittedBy, submittedUnit, createdAt, createdBy) {
            // 保存议案数据到全局变量
            window.currentResolution = {
                id: resolutionId,
                name: resolutionName,
                status: status,
                category: category,
                submittedBy: submittedBy,
                submittedUnit: submittedUnit,
                createdAt: createdAt,
                createdBy: createdBy
            };

            // 切换到决议议案详情页面
            switchPage('resolution-detail');
        }

        function submitResolutionReport() {
            alert('决议议案已提交审核');
            switchPage('resolutions-list');
        }

        function saveResolutionDraft() {
            alert('决议议案草稿已保存');
        }

        function withdrawResolution() {
            alert('决议议案已撤回');
            switchPage('resolutions-list');
        }

        function batchWithdrawResolutions() {
            const selectedItems = document.querySelectorAll('.resolution-checkbox:checked');
            if (selectedItems.length === 0) {
                alert('请选择要撤销的决议议案');
                return;
            }
            alert(`已批量撤销 ${selectedItems.length} 个决议议案`);
        }

        // 切换中心视图
        function switchCenterView(centerName, element) {
            // 移除所有活动状态
            document.querySelectorAll('.center-nav').forEach(item => {
                item.classList.remove('active');
            });
            // 添加当前活动状态
            if (element) {
                element.classList.add('active');
            }
        }

        // 渲染表格视图
        function renderMatrixTableView() {
            const matrixContainer = document.getElementById('satisfactionMatrix');
            matrixContainer.innerHTML = `
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">支持中心</div>
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">满意度</div>
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">趋势</div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 text-center mt-2">
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">设计中心</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">4.9</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-emerald-500 border border-slate-100">+0.1</div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">技术中心</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">4.8</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-emerald-500 border border-slate-100">+0.2</div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">供应链中心</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">4.7</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-red-500 border border-slate-100">-0.1</div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">商务中心</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">4.6</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-400 border border-slate-100">0.0</div>
                </div>
                
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">总包中心</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">4.5</div>
                    <div class="bg-white py-2 rounded-lg text-xs font-medium text-emerald-500 border border-slate-100">+0.2</div>
                </div>
            `;
        }

        // 渲染树图视图
        function renderMatrixTreeView() {
            const matrixContainer = document.getElementById('satisfactionMatrix');
            matrixContainer.innerHTML = `
                <div class="grid grid-cols-4 gap-2 h-full">
                    <!-- 第一行 -->
                    <div class="col-span-2 bg-blue-800 text-white rounded-lg flex items-center justify-center font-medium text-sm">行政部</div>
                    <div class="col-span-1 bg-red-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">推广部</div>
                    <div class="col-span-1 grid grid-rows-2 gap-2">
                        <div class="bg-purple-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">广告部</div>
                        <div class="bg-blue-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">公关部</div>
                    </div>
                    <!-- 第二行 -->
                    <div class="col-span-2 bg-orange-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">人事部</div>
                    <div class="col-span-2 bg-purple-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">企划部</div>
                    <!-- 第三行 -->
                    <div class="col-span-1 bg-yellow-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">职能总监</div>
                    <div class="col-span-1 bg-teal-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">客服部</div>
                    <div class="col-span-1 bg-blue-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">售后部</div>
                    <div class="col-span-1 bg-blue-900 text-white rounded-lg flex items-center justify-center font-medium text-sm">市场总监</div>
                    <!-- 第四行 -->
                    <div class="col-span-1 bg-green-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">运营总监</div>
                    <div class="col-span-1 grid grid-rows-2 gap-2">
                        <div class="bg-purple-700 text-white rounded-lg flex items-center justify-center font-medium text-sm">财务部</div>
                        <div class="bg-purple-500 text-white rounded-lg flex items-center justify-center font-medium text-sm">服务总监</div>
                    </div>
                    <div class="col-span-1 bg-blue-600 text-white rounded-lg flex items-center justify-center font-medium text-sm">技术部</div>
                    <div class="col-span-1 bg-teal-400 text-white rounded-lg flex items-center justify-center font-medium text-sm">总经理</div>
                </div>
            `;
        }

        // 全局变量
        if (typeof efficiencyChart === 'undefined') {
            var efficiencyChart;
        }
        if (typeof taskStatusChart === 'undefined') {
            var taskStatusChart;
        }
        if (typeof currentMatrixIndex === 'undefined') {
            var currentMatrixIndex = 0;
        }
        const matrixData = [
            {
                title: '支持中心满意度矩阵', data: [
                    { center: '设计中心', score: '4.9', trend: '+0.1', trendClass: 'text-emerald-500' },
                    { center: '技术中心', score: '4.8', trend: '+0.2', trendClass: 'text-emerald-500' },
                    { center: '供应链中心', score: '4.7', trend: '-0.1', trendClass: 'text-red-500' },
                    { center: '商务中心', score: '4.6', trend: '0.0', trendClass: 'text-slate-400' },
                    { center: '总包中心', score: '4.5', trend: '+0.2', trendClass: 'text-emerald-500' }
                ]
            },
            {
                title: '服务职能满意度矩阵', data: [
                    { center: '设计服务', score: '4.9', trend: '+0.1', trendClass: 'text-emerald-500' },
                    { center: '技术支持', score: '4.8', trend: '+0.2', trendClass: 'text-emerald-500' },
                    { center: '招采服务', score: '4.6', trend: '-0.1', trendClass: 'text-red-500' },
                    { center: '商务服务', score: '4.7', trend: '0.0', trendClass: 'text-slate-400' },
                    { center: '总包管理', score: '4.5', trend: '+0.1', trendClass: 'text-emerald-500' }
                ]
            }
        ];

        // 初始化图表
        function initCharts() {
            // 确保 Chart.js 已加载
            if (typeof Chart !== 'undefined') {
                // 创效态势图表
                const efficiencyChartCtx = document.getElementById('efficiencyChart');
                if (efficiencyChartCtx && !efficiencyChart) {
                    efficiencyChart = new Chart(efficiencyChartCtx, {
                        type: 'line',
                        data: {
                            labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                            datasets: [{
                                label: '人均产值(万元)',
                                data: [35, 40, 45, 55, 65, 75],
                                backgroundColor: 'rgba(79, 70, 229, 0.7)',
                                borderColor: 'rgba(79, 70, 229, 1)',
                                borderWidth: 1,
                                fill: true
                            }, {
                                label: '人均产值提升率(%)',
                                data: [12, 15, 20, 25, 18, 22],
                                type: 'line',
                                borderColor: 'rgba(16, 185, 129, 1)',
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                borderWidth: 2,
                                pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                                yAxisID: 'y1',
                                fill: false
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            scales: {
                                y: {
                                    beginAtZero: true,
                                    title: {
                                        display: true,
                                        text: '产值(万元)'
                                    }
                                },
                                y1: {
                                    beginAtZero: true,
                                    position: 'right',
                                    grid: {
                                        drawOnChartArea: false
                                    },
                                    title: {
                                        display: true,
                                        text: '提升率(%)'
                                    }
                                }
                            },
                            plugins: {
                                legend: {
                                    display: true,
                                    position: 'top'
                                },
                                tooltip: {
                                    mode: 'index',
                                    intersect: false
                                }
                            }
                        }
                    });
                }

                // 添加效率卡片点击事件，实现动态标题切换
                const efficiencyCards = document.querySelectorAll('.efficiency-card');
                const chartTitle = document.getElementById('efficiencyChartTitle');
                const cardTitles = [
                    '服务项目人均产值趋势',
                    '一级节点完成率趋势',
                    '设计创效率趋势',
                    '单采成本降低率趋势',
                    '结算核对量差效益率趋势'
                ];

                // 为每个卡片准备对应的图表数据
                const chartDataSets = [
                    // 人均产值提升率数据
                    {
                        label: '人均产值(万元)',
                        data: [35, 40, 45, 55, 65, 75],
                        backgroundColor: 'rgba(79, 70, 229, 0.7)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 1,
                        fill: true
                    },
                    // 一级节点完成率数据
                    {
                        label: '一级节点完成率(%)',
                        data: [75, 78, 80, 82, 85, 88.5],
                        backgroundColor: 'rgba(16, 185, 129, 0.7)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 1,
                        fill: true
                    },
                    // 设计创效率数据
                    {
                        label: '设计创效率(%)',
                        data: [65, 68, 70, 72, 74, 76.2],
                        backgroundColor: 'rgba(139, 92, 246, 0.7)',
                        borderColor: 'rgba(139, 92, 246, 1)',
                        borderWidth: 1,
                        fill: true
                    },
                    // 单采成本降低率数据
                    {
                        label: '单采成本降低率(%)',
                        data: [10, 12, 13, 14, 15, 15.8],
                        backgroundColor: 'rgba(249, 115, 22, 0.7)',
                        borderColor: 'rgba(249, 115, 22, 1)',
                        borderWidth: 1,
                        fill: true
                    },
                    // 结算核对量差效益率数据
                    {
                        label: '结算核对量差效益率(%)',
                        data: [7, 7.5, 8, 8.5, 9, 9.2],
                        backgroundColor: 'rgba(99, 102, 241, 0.7)',
                        borderColor: 'rgba(99, 102, 241, 1)',
                        borderWidth: 1,
                        fill: true
                    }
                ];

                // 更新图表数据的函数
                function updateChartData(index) {
                    if (efficiencyChart) {
                        // 更新图表数据
                        efficiencyChart.data.datasets[0] = chartDataSets[index];
                        // 更新图表标题
                        efficiencyChart.options.plugins.title = {
                            display: true,
                            text: cardTitles[index]
                        };
                        // 重新渲染图表
                        efficiencyChart.update();
                    }
                }

                // 卡片轮播功能
                let currentCardIndex = 0;
                let carouselInterval;

                // 初始化卡片轮播
                function initCardCarousel() {
                    // 停止之前的轮播
                    if (carouselInterval) {
                        clearInterval(carouselInterval);
                    }

                    // 启动轮播
                    carouselInterval = setInterval(() => {
                        // 移除当前卡片的选中状态
                        efficiencyCards[currentCardIndex].classList.remove('active');

                        // 计算下一个卡片索引
                        currentCardIndex = (currentCardIndex + 1) % efficiencyCards.length;

                        // 添加下一个卡片的选中状态
                        efficiencyCards[currentCardIndex].classList.add('active');

                        // 更新图表标题
                        if (chartTitle) {
                            chartTitle.textContent = cardTitles[currentCardIndex];
                        }

                        // 更新图表数据
                        updateChartData(currentCardIndex);
                    }, 2000); // 2秒切换一次
                }

                // 为卡片添加点击事件
                efficiencyCards.forEach((card, index) => {
                    card.addEventListener('click', function () {
                        // 停止轮播
                        clearInterval(carouselInterval);

                        // 移除所有卡片的选中状态
                        efficiencyCards.forEach(c => c.classList.remove('active'));

                        // 添加当前卡片的选中状态
                        card.classList.add('active');

                        // 更新当前索引
                        currentCardIndex = index;

                        // 更新图表标题
                        if (chartTitle) {
                            chartTitle.textContent = cardTitles[index];
                        }

                        // 更新图表数据
                        updateChartData(index);

                        // 重新启动轮播
                        initCardCarousel();
                    });
                });

                // 初始化轮播
                initCardCarousel();

                // 初始化第一张卡片为选中状态
                if (efficiencyCards.length > 0) {
                    efficiencyCards[0].classList.add('active');
                    updateChartData(0);
                }

                // 任务状态图表
                const taskStatusChartCtx = document.getElementById('taskStatusChart');
                if (taskStatusChartCtx && !taskStatusChart) {
                    taskStatusChart = new Chart(taskStatusChartCtx, {
                        type: 'doughnut',
                        data: {
                            labels: ['进行中', '待确认', '待评价', '已归档'],
                            datasets: [{
                                data: [45, 12, 20, 23],
                                backgroundColor: ['#4F46E5', '#fbbf24', '#10B981', '#94a3b8'],
                                borderWidth: 0
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false,
                            cutout: '70%',
                            plugins: {
                                legend: {
                                    display: false
                                }
                            }
                        }
                    });
                }
            }
        }

        // 更新创效态势图表
        function updateEfficiencyChart(index) {
            if (!efficiencyChart) return;

            const chartData = [
                // 人均产值提升率趋势
                {
                    title: '服务项目人均产值趋势',
                    datasets: [{
                        label: '人均产值(万元)',
                        data: [35, 40, 45, 55, 65, 75],
                        backgroundColor: 'rgba(79, 70, 229, 0.7)',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        borderWidth: 1,
                        fill: true
                    }, {
                        label: '人均产值提升率(%)',
                        data: [12, 15, 20, 25, 18, 22],
                        type: 'line',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        backgroundColor: 'rgba(16, 185, 129, 0.1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(16, 185, 129, 1)',
                        yAxisID: 'y1',
                        fill: false
                    }]
                },
                // 一级节点完成率趋势
                {
                    title: '一级节点完成率趋势',
                    datasets: [{
                        label: '计划量',
                        data: [100, 100, 100, 100, 100, 100],
                        backgroundColor: 'rgba(209, 213, 219, 0.5)',
                        borderColor: 'rgba(209, 213, 219, 1)',
                        borderWidth: 1,
                        fill: false
                    }, {
                        label: '实际量',
                        data: [85, 88, 90, 87, 92, 88],
                        backgroundColor: 'rgba(16, 185, 129, 0.5)',
                        borderColor: 'rgba(16, 185, 129, 1)',
                        borderWidth: 1,
                        fill: false
                    }, {
                        label: '完成率(%)',
                        data: [85, 88, 90, 87, 92, 88],
                        type: 'line',
                        borderColor: 'rgba(79, 70, 229, 1)',
                        backgroundColor: 'rgba(79, 70, 229, 0.1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(79, 70, 229, 1)',
                        yAxisID: 'y1',
                        fill: false
                    }]
                },
                // 设计创效率趋势
                {
                    title: '设计创效率趋势',
                    datasets: [{
                        label: '设计创效率(%)',
                        data: [65, 68, 72, 70, 75, 76],
                        borderColor: 'rgba(168, 85, 247, 1)',
                        backgroundColor: 'rgba(168, 85, 247, 0.1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(168, 85, 247, 1)',
                        fill: true
                    }]
                },
                // 单采成本降低率趋势
                {
                    title: '单采成本降低率趋势',
                    datasets: [{
                        label: '单采成本降低率(%)',
                        data: [10, 12, 14, 15, 16, 15],
                        borderColor: 'rgba(249, 115, 22, 1)',
                        backgroundColor: 'rgba(249, 115, 22, 0.1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(249, 115, 22, 1)',
                        fill: true
                    }]
                },
                // 结算核对量差效益率趋势
                {
                    title: '结算核对量差效益率趋势',
                    datasets: [{
                        label: '结算核对量差效益率(%)',
                        data: [7, 8, 9, 10, 9, 9],
                        borderColor: 'rgba(59, 130, 246, 1)',
                        backgroundColor: 'rgba(59, 130, 246, 0.1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(59, 130, 246, 1)',
                        fill: true
                    }]
                }
            ];

            const data = chartData[index];
            efficiencyChart.data.datasets = data.datasets;
            efficiencyChart.options.plugins.title = {
                display: true,
                text: data.title
            };
            efficiencyChart.update();

            // 更新卡片选中状态
            document.querySelectorAll('.efficiency-card').forEach((card, i) => {
                if (i === index) {
                    card.classList.add('border-indigo-600', 'bg-indigo-50');
                } else {
                    card.classList.remove('border-indigo-600', 'bg-indigo-50');
                }
            });
        }

        // 轮播满意度矩阵
        function rotateSatisfactionMatrix() {
            currentMatrixIndex = (currentMatrixIndex + 1) % matrixData.length;
            updateSatisfactionMatrix();
        }

        // 更新满意度矩阵
        function updateSatisfactionMatrix() {
            const matrix = matrixData[currentMatrixIndex];
            const matrixContainer = document.getElementById('satisfactionMatrix');
            if (!matrixContainer) return;

            let html = `
                <div class="grid grid-cols-3 gap-2 text-center">
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">${matrix.title.includes('支持中心') ? '支持中心' : '服务职能'}</div>
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">满意度</div>
                    <div class="bg-slate-50 py-2 rounded-lg text-xs font-medium text-slate-700">趋势</div>
                </div>
            `;

            matrix.data.forEach(item => {
                html += `
                    <div class="grid grid-cols-3 gap-2 text-center">
                        <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">${item.center}</div>
                        <div class="bg-white py-2 rounded-lg text-xs font-medium text-slate-700 border border-slate-100">${item.score}</div>
                        <div class="bg-white py-2 rounded-lg text-xs font-medium ${item.trendClass} border border-slate-100">${item.trend}</div>
                    </div>
                `;
            });

            matrixContainer.innerHTML = html;
        }

        // 初始化创效态势卡片点击事件
        function initEfficiencyCards() {
            const cards = document.querySelectorAll('.efficiency-card');
            cards.forEach((card, index) => {
                card.addEventListener('click', () => {
                    updateEfficiencyChart(index);
                });
            });
        }

        // 直接执行图表初始化
        initCharts();

        // 页面加载完成后初始化其他功能
        document.addEventListener('DOMContentLoaded', function () {
            // 初始化创效态势卡片点击事件
            initEfficiencyCards();

            // 初始化满意度矩阵轮播
            updateSatisfactionMatrix();
            setInterval(rotateSatisfactionMatrix, 2000); // 每2秒轮播一次

            // 初始化二级目录展开/收起功能
            initSubmenuToggle();

            // 为系统图标添加点击事件监听器
            const systemLogo = document.getElementById('systemLogo');
            if (systemLogo) {
                systemLogo.addEventListener('click', function () {
                    navigateTo('/');
                });
            }

            // 为h1标题添加点击事件监听器
            const pageTitle = document.getElementById('pageTitle');
            if (pageTitle) {
                pageTitle.addEventListener('click', function () {
                    navigateTo('/');
                });
            }

            // 为职能筛选框添加事件监听器
            const functionFilter = document.getElementById('functionFilter');
            if (functionFilter) {
                functionFilter.addEventListener('change', function () {
                    const selectedFunction = this.value;
                    console.log('职能筛选已更改：', selectedFunction);
                    // 这里可以添加筛选逻辑，例如更新页面内容
                    // 由于是示例，我们只在控制台打印选择的职能
                });
            }

            // 为卡片添加点击事件监听器，实现选中状态切换和悬浮按钮显示
            const decisionCard = document.getElementById('decisionCard');
            const tasksCard = document.getElementById('tasksCard');
            const floatingButtons = document.getElementById('floatingButtons');
            const decisionButtons = document.getElementById('decisionButtons');
            const tasksButtons = document.getElementById('tasksButtons');

            if (decisionCard) {
                decisionCard.addEventListener('click', function (e) {
                    // 阻止事件冒泡，避免触发按钮的navigateTo
                    e.stopPropagation();

                    // 移除其他卡片的选中状态
                    if (tasksCard) {
                        tasksCard.classList.remove('selected');
                    }
                    // 添加当前卡片的选中状态
                    this.classList.add('selected');

                    // 显示悬浮按钮并切换到决策中心选项
                    if (floatingButtons) {
                        floatingButtons.classList.remove('hidden');
                        decisionButtons.style.display = 'flex';
                        tasksButtons.style.display = 'none';
                    }
                });
            }

            if (tasksCard) {
                tasksCard.addEventListener('click', function (e) {
                    // 阻止事件冒泡，避免触发按钮的navigateTo
                    e.stopPropagation();

                    // 移除其他卡片的选中状态
                    if (decisionCard) {
                        decisionCard.classList.remove('selected');
                    }
                    // 添加当前卡片的选中状态
                    this.classList.add('selected');

                    // 显示悬浮按钮并切换到任务大厅选项
                    if (floatingButtons) {
                        floatingButtons.classList.remove('hidden');
                        decisionButtons.style.display = 'none';
                        tasksButtons.style.display = 'flex';
                    }
                });
            }

            // 为悬浮按钮添加点击事件
            if (document.getElementById('business-status-btn')) {
                document.getElementById('business-status-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'decisionCard');
                    navigateTo('dashboard.html');
                });
            }

            if (document.getElementById('resolutions-btn')) {
                document.getElementById('resolutions-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'decisionCard');
                    navigateTo('resolutions.html');
                });
            }

            if (document.getElementById('decision-meeting-btn')) {
                document.getElementById('decision-meeting-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'decisionCard');
                    navigateTo('decision-meeting.html');
                });
            }

            if (document.getElementById('service-support-btn')) {
                document.getElementById('service-support-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'tasksCard');
                    navigateTo('tasks');
                });
            }

            if (document.getElementById('monthly-plan-btn')) {
                document.getElementById('monthly-plan-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'tasksCard');
                    navigateTo('monthly-plan.html');
                });
            }

            if (document.getElementById('quarterly-work-btn')) {
                document.getElementById('quarterly-work-btn').addEventListener('click', function () {
                    // 保存选中状态
                    sessionStorage.setItem('activeCard', 'tasksCard');
                    navigateTo('monthly-plan.html');
                });
            }

            // 页面加载时恢复选中状态
            function restoreActiveCardState() {
                const activeCard = sessionStorage.getItem('activeCard');
                if (activeCard) {
                    // 移除所有卡片的选中状态
                    if (decisionCard) {
                        decisionCard.classList.remove('selected');
                    }
                    if (tasksCard) {
                        tasksCard.classList.remove('selected');
                    }

                    // 添加当前卡片的选中状态
                    const card = document.getElementById(activeCard);
                    if (card) {
                        card.classList.add('selected');
                    }

                    // 显示对应的悬浮按钮
                    if (floatingButtons) {
                        floatingButtons.classList.remove('hidden');
                        if (activeCard === 'decisionCard') {
                            decisionButtons.style.display = 'flex';
                            tasksButtons.style.display = 'none';
                        } else if (activeCard === 'tasksCard') {
                            decisionButtons.style.display = 'none';
                            tasksButtons.style.display = 'flex';
                        }
                    }
                } else {
                    // 默认选中决策中心卡片
                    if (decisionCard) {
                        decisionCard.classList.add('selected');
                    }
                    if (tasksCard) {
                        tasksCard.classList.remove('selected');
                    }

                    // 显示决策中心对应的悬浮按钮
                    if (floatingButtons) {
                        floatingButtons.classList.remove('hidden');
                        decisionButtons.style.display = 'flex';
                        tasksButtons.style.display = 'none';
                    }
                }
            }

            // 初始化时恢复选中状态
            restoreActiveCardState();

            // 为非决策中心和任务大厅按钮添加点击事件，实现floatingButtons隐藏逻辑
            function addNonCardButtonListeners() {
                const nonCardButtons = [
                    document.getElementById('nav-evaluation'),
                    document.getElementById('nav-risk'),
                    document.getElementById('nav-performance'),
                    document.getElementById('nav-settings')
                ];

                nonCardButtons.forEach(button => {
                    if (button) {
                        button.addEventListener('click', function (e) {
                            // 阻止事件冒泡
                            e.stopPropagation();

                            // 隐藏floatingButtons
                            if (floatingButtons) {
                                floatingButtons.classList.add('hidden');
                            }

                            // 清除卡片选中状态
                            if (decisionCard) {
                                decisionCard.classList.remove('selected');
                            }
                            if (tasksCard) {
                                tasksCard.classList.remove('selected');
                            }

                            // 清除sessionStorage中的选中状态
                            sessionStorage.removeItem('activeCard');
                        });
                    }
                });
            }

            // 添加非卡片按钮事件监听器
            addNonCardButtonListeners();

            // 添加滚动事件处理，确保悬浮按钮在指定区域内
            window.addEventListener('scroll', function () {
                if (floatingButtons && !floatingButtons.classList.contains('hidden')) {
                    const contentContainer = document.getElementById('contentContainer');
                    if (contentContainer) {
                        const containerRect = contentContainer.getBoundingClientRect();
                        const buttonRect = floatingButtons.getBoundingClientRect();

                        // 确保悬浮按钮在内容区域内
                        if (buttonRect.top < containerRect.top || buttonRect.bottom > containerRect.bottom) {
                            floatingButtons.classList.add('hidden');
                        }
                    }
                }
            });

            // 防重复点击机制 - 跟踪当前是否正在处理导航请求
            let isNavigating = false;

            // 添加个人中心按钮点击事件监听器
            // 跳转目标：个人中心页面 (profile.html)
            const profileButton = document.getElementById('nav-profile');
            if (profileButton) {
                profileButton.addEventListener('click', function () {
                    if (isNavigating) return;
                    isNavigating = true;

                    // 添加平滑过渡效果
                    this.style.opacity = '0.7';
                    setTimeout(() => {
                        navigateTo('profile.html');
                        this.style.opacity = '1';
                        isNavigating = false;
                    }, 150);
                });
            }

            // 添加通知中心按钮点击事件监听器
            // 跳转目标：通知中心页面 (notifications.html)
            const notificationsButton = document.getElementById('nav-notifications');
            if (notificationsButton) {
                notificationsButton.addEventListener('click', function () {
                    if (isNavigating) return;
                    isNavigating = true;

                    // 添加平滑过渡效果
                    this.style.opacity = '0.7';
                    setTimeout(() => {
                        navigateTo('notifications.html');
                        this.style.opacity = '1';
                        isNavigating = false;
                    }, 150);
                });
            }
        });
    </script>
</body>

</html>