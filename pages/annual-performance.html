<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>履约协同平台 - 产值绩效</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Inter', 'sans-serif'] },
                    colors: {
                        indigo: { 50: '#eef2ff', 500: '#6366f1', 600: '#4f46e5' },
                        slate: { 50: '#f8fafc', 100: '#f1f5f9', 200: '#e2e8f0', 300: '#cbd5e1', 800: '#1e293b' }
                    }
                }
            }
        }
    </script>
    <style>
        body { background-color: #F4F7FE; }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .page-section { display: none; animation: fadeIn 0.3s ease-in-out; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        
        /* 导航选中样式 */
        .nav-item.active { background-color: #eef2ff; color: #4f46e5; border-right: 3px solid #4f46e5; }
        .center-nav.active { background-color: #eef2ff; color: #4f46e5; font-weight: 600; box-shadow: 0 1px 2px rgba(0,0,0,0.05); }

        /* 抽屉动画 - 改为从右侧划出 */
        .drawer { transform: translateX(100%); transition: transform 0.3s ease-in-out; }
        .drawer.open { transform: translateX(0); }
        
        /* 慢速旋转动画 */
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow { animation: spin-slow 3s linear infinite; }
        
        /* 卡片悬停动画 */
        .card-hover { transition: all 0.3s ease; }
        .card-hover:hover { transform: translateY(-2px); box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); }
        
        /* 按钮交互效果 */
        .btn-primary { transition: all 0.3s ease; }
        .btn-primary:hover { transform: translateY(-1px); box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3); }
        
        /* 平滑滚动 */
        html { scroll-behavior: smooth; }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .sidebar { width: 240px; }
            .main-content { margin-left: 240px; }
            .grid-cols-3 { grid-template-columns: 1fr; }
            .grid-cols-2 { grid-template-columns: 1fr; }
        }
        
        /* 加载动画 */
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .animate-pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }
        
        /* 进度条动画 */
        @keyframes progress {
            from { width: 0%; }
            to { width: var(--progress-width, 100%); }
        }
        .progress-animate { animation: progress 1.5s ease-out forwards; }
        
        /* 标签动画 */
        @keyframes slideIn {
            from { transform: translateX(-100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        .slide-in { animation: slideIn 0.5s ease-out forwards; }
        
        /* 微交互效果 */
        .interactive { transition: all 0.2s ease; }
        .interactive:hover { cursor: pointer; }
        
        /* 表格行悬停效果 */
        table tbody tr:hover { background-color: #f8fafc; }
        
        /* 表单元素焦点效果 */
        input:focus, select:focus, textarea:focus { outline: none; ring: 2px; ring-color: #6366f1; ring-opacity: 0.5; }
    </style>
</head>
<body class="text-slate-600 h-screen flex overflow-hidden font-sans">

    <!-- <aside class="w-64 bg-white border-r border-slate-100 flex flex-col flex-shrink-0 z-30 transition-all relative">
        <div class="p-6 flex items-center gap-3 border-b border-slate-50 cursor-pointer" onclick="navigateTo('index.html')">
            <div class="w-8 h-8 bg-indigo-600 rounded-lg flex items-center justify-center text-white font-bold shadow-md shadow-indigo-200">P</div>
            <span class="text-lg font-bold text-slate-800">履约协同平台</span>
        </div>
        
        <nav class="flex-1 px-4 mt-4 space-y-1 overflow-y-auto no-scrollbar" id="mainNav">
            
            <div class="mb-6 relative">
                <div class="bg-slate-50 border border-slate-200 rounded-xl p-3 mx-2 relative">
                    <div class="text-[10px] text-slate-400 mb-1">当前层级</div>
                    <div class="flex items-center justify-between cursor-pointer group" onclick="toggleOrgMenu()">
                        <span id="currentOrg" class="text-sm font-bold text-slate-800 truncate">公司总包中心</span>
                        <i data-lucide="chevrons-up-down" class="w-4 h-4 text-slate-400 group-hover:text-indigo-600"></i>
                    </div>
                    <div id="orgMenu" class="hidden absolute top-full left-2 right-2 mt-1 bg-white border border-slate-200 rounded-lg shadow-lg z-50 py-2">
                        <div onclick="changeOrg('公司总包中心')" class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer text-indigo-600 font-medium">公司总包中心</div>
                        <div onclick="changeOrg('分公司总包中心')" class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer">分公司总包中心</div>
                        <div onclick="changeOrg('成都项目部')" class="text-xs p-2 hover:bg-slate-50 rounded cursor-pointer">成都项目部</div>
                    </div>
                </div>
            </div>

            <div class="space-y-1 mb-6">
                <div class="px-2 mb-2 text-xs font-bold text-slate-400 uppercase tracking-wider">功能模块</div>
                
                <button onclick="navigateTo('index.html')" id="nav-dashboard" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                    <i data-lucide="layout-dashboard" class="w-5 h-5"></i> 驾驶舱
                </button>
                
                <button onclick="navigateTo('tasks.html')" id="nav-tasks" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50 relative">
                    <i data-lucide="briefcase" class="w-5 h-5"></i> 任务大厅
                    <span class="absolute top-1/2 right-4 transform -translate-y-1/2 px-2 py-1 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-md shadow-red-200 border border-red-100">99+</span>
                </button>
                
                <button onclick="navigateTo('evaluation.html')" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50 relative">
                    <i data-lucide="star" class="w-5 h-5"></i> 服务评价
                    <span class="absolute top-1/2 right-4 transform -translate-y-1/2 px-2 py-1 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-md shadow-red-200 border border-red-100">20</span>
                </button>
                
                <button onclick="navigateTo('performance.html')" class="nav-item active w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50 relative">
                    <i data-lucide="trending-up" class="w-5 h-5"></i> 产值绩效
                    <span class="absolute top-1/2 right-4 transform -translate-y-1/2 px-2 py-1 bg-red-500 text-white text-xs rounded-full flex items-center justify-center shadow-md shadow-red-200 border border-red-100">8</span>
                </button>

                <button onclick="navigateTo('knowledge.html')" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                    <i data-lucide="book-open" class="w-5 h-5"></i> 知识库
                </button>

                <button onclick="window.open('https://sjxk.cscec3b-iti.com/construction-management-platform-front/#/login?from=/business-registration', '_blank')" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50">
                    <i data-lucide="users" class="w-5 h-5"></i> 工作协同管理
                </button>

                <button onclick="window.open('https://ucflowengine.cscec3b-iti.com', '_blank')" class="nav-item w-full flex items-center gap-3 px-4 py-3 text-slate-500 rounded-xl font-medium transition-all hover:bg-slate-50" style="display: none;">
                    <i data-lucide="settings" class="w-5 h-5"></i> 工作流程管理
                </button>
            </div>

            <div class="border-t border-slate-100 my-4"></div>
            
            <div class="mb-6 space-y-1">
                <div class="px-2 mb-2 text-xs font-bold text-slate-400 uppercase tracking-wider">数据视图</div>
                <button onclick="switchCenterView('总包中心视图', this)" class="center-nav active w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-blue-500"></span> 总包中心视图
                </button>
                <button onclick="switchCenterView('设计中心视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-purple-500"></span> 设计中心视图
                </button>
                <button onclick="switchCenterView('技术中心视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-emerald-500"></span> 技术中心视图
                </button>
                <button onclick="switchCenterView('商务中心视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-orange-500"></span> 商务中心视图
                </button>
                <button onclick="switchCenterView('供应链中心视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-cyan-500"></span> 供应链中心视图
                </button>
                <button onclick="switchCenterView('项目视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-pink-500"></span> 项目视图
                </button>
                <button onclick="switchCenterView('人员视图', this)" class="center-nav w-full flex items-center gap-3 px-3 py-2.5 text-slate-600 rounded-lg text-sm hover:bg-slate-50 transition-all">
                    <span class="w-2 h-2 rounded-full bg-amber-500"></span> 人员视图
                </button>
            </div>

            <div class="border-t border-slate-100 my-4"></div>

        </nav>

        <div class="p-4 border-t border-slate-100">
            <div onclick="navigateTo('profile.html')" class="flex items-center gap-3 p-2 rounded-xl hover:bg-slate-50 cursor-pointer transition-colors group">
                <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-10 h-10 rounded-full bg-indigo-50 border-2 border-transparent group-hover:border-indigo-200" alt="User">
                <div class="overflow-hidden">
                    <div class="text-sm font-bold text-slate-800">张经理</div>
                    <div class="text-xs text-slate-400 truncate">个人中心 &gt;</div>
                </div>
            </div>
        </div>
    </aside> -->

    <main class="flex-1 flex flex-col min-w-0 overflow-hidden relative bg-[#F4F7FE]">
        
        <!-- <header class="bg-white/80 backdrop-blur-md sticky top-0 z-20 px-8 py-4 flex justify-between items-center border-b border-slate-100 shadow-sm">
            <div>
                <div class="flex items-center gap-2">
                    <h1 id="pageTitle" class="text-2xl font-bold text-slate-800">产值绩效</h1>
                    <span id="centerBadge" class="px-2 py-0.5 bg-blue-100 text-blue-700 text-xs rounded-full font-bold">总包中心</span>
                </div>
                <p class="text-slate-400 text-sm mt-1">数据更新时间: 2026/01/15 09:30</p>
            </div>
            <div class="flex items-center gap-4">
    

                <div class="h-6 w-px bg-slate-200 mx-2"></div>

                <div class="relative">
                    <i data-lucide="search" class="absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 w-4 h-4"></i>
                    <input type="text" placeholder="搜索项目..." class="pl-10 pr-4 py-2 bg-slate-100 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100 w-48 border-transparent transition-all focus:w-64">
                </div>
                <button onclick="navigateTo('notifications.html')" class="relative p-2 bg-white rounded-full hover:bg-slate-50 border border-slate-100 shadow-sm">
                    <i data-lucide="bell" class="w-5 h-5 text-slate-600"></i>
                    <span class="absolute top-0 right-0 w-2.5 h-2.5 bg-red-500 border-2 border-white rounded-full"></span>
                </button>
            </div>
        </header> -->

        <div class="flex-1 overflow-y-auto p-6 relative scroll-smooth" id="scrollContainer">
            
            <div id="performance" class="page-section active max-w-[1600px] mx-auto space-y-6">
                <div class="bg-white p-4 rounded-xl shadow-sm border border-slate-100 flex flex-wrap gap-4 items-center">
                    <div class="flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 bg-slate-50 relative" id="timeSelector">
                        <i data-lucide="calendar" class="w-4 h-4 text-slate-400"></i>
                        <span class="text-sm text-slate-700" id="selectedTime">2026年Q1</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 ml-2"></i>
                        <div class="hidden absolute top-full left-0 mt-1 w-48 bg-white border border-slate-200 rounded-lg shadow-lg z-50 p-2" id="timeDropdown">
                            <div class="text-xs text-slate-400 mb-2 px-2">2026年</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2026年Q1')">2026年Q1</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2026年Q2')">2026年Q2</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2026年Q3')">2026年Q3</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2026年Q4')">2026年Q4</div>
                            <div class="text-xs text-slate-400 mb-2 mt-3 px-2">2025年</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2025年Q1')">2025年Q1</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2025年Q2')">2025年Q2</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2025年Q3')">2025年Q3</div>
                            <div class="hover:bg-slate-50 px-2 py-1 rounded cursor-pointer" onclick="selectTime('2025年Q4')">2025年Q4</div>
                        </div>
                    </div>
                    <div class="flex items-center gap-2 border border-slate-200 rounded-lg px-3 py-2 bg-slate-50">
                        <span class="text-sm text-slate-700">全中心</span>
                        <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400 ml-2"></i>
                    </div>
                    <button class="ml-auto px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700">导出报表</button>
                </div>

                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <!-- <div class="p-4 border-b border-slate-100 overflow-x-auto">
                        <div class="flex gap-4 min-w-max">
                            <button onclick="switchPerformanceTab('projectEvaluation', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">项目评价季度汇总<span id="projectEvaluationBadge" class="absolute top-1 right-1 w-4 h-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center transition-all duration-300 opacity-100 transform scale-100">1</span></button>
                            <button onclick="switchPerformanceTab('departmentEvaluation', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">部门/中心季度评价<span id="departmentEvaluationBadge" class="absolute top-1 right-1 w-4 h-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center transition-all duration-300 opacity-100 transform scale-100">1</span></button>
                            <button onclick="switchPerformanceTab('leadershipEvaluation', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">领导年度评价<span id="leadershipEvaluationBadge" class="absolute top-1 right-1 w-4 h-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center transition-all duration-300 opacity-100 transform scale-100">1</span></button>
                            <button onclick="switchPerformanceTab('annualPerformance', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">绩效年度考核<span id="annualPerformanceBadge" class="absolute top-1 right-1 w-4 h-4 rounded-full bg-red-500 text-white text-[10px] flex items-center justify-center transition-all duration-300 opacity-100 transform scale-100">5</span></button>
                            <button onclick="switchPerformanceTab('targetLibrary', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">目标责任指标库</button>
                            <button onclick="switchPerformanceTab('taskOutput', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">服务项目产值明细</button>
                            <button onclick="switchPerformanceTab('serviceStars', event)" class="px-4 py-2 text-sm font-medium text-slate-500 hover:text-slate-700 relative">服务之星</button>
                        </div>
                    </div> -->
                    
                    <div id="projectEvaluationTab" class="p-6">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">项目评价季度汇总</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">服务中心</th>
                                        <th class="px-6 py-4">评价季度</th>
                                        <th class="px-6 py-4">已评价任务数</th>
                                        <th class="px-6 py-4">服务质量平均分</th>
                                        <th class="px-6 py-4">能力输出平均分</th>
                                        <th class="px-6 py-4">工作效率平均分</th>
                                        <th class="px-6 py-4">服务态度平均分</th>
                                        <th class="px-6 py-4">综合服务平均分</th>
                                        <th class="px-6 py-4 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-blue-50 text-blue-600 rounded-md text-xs">设计中心</span></td>
                                        <td class="px-6 py-4">2026年Q1</td>
                                        <td class="px-6 py-4"><a href="#" class="text-indigo-600 hover:underline" onclick="openTaskListModal('设计中心', '2026年Q1')">10/12</a></td>
                                        <td class="px-6 py-4">4.9</td>
                                        <td class="px-6 py-4">4.8</td>
                                        <td class="px-6 py-4">4.7</td>
                                        <td class="px-6 py-4">4.9</td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">4.85</td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="text-indigo-600 hover:underline mr-3" onclick="openTaskDetailModal('设计中心', '2026年Q1')">查看详情</button>
                                            <button class="px-2 py-1 bg-red-100 text-red-600 rounded text-xs font-medium hover:bg-red-200" onclick="openTaskUrgeModal('设计中心', '2026年Q1')">催办</button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-purple-50 text-purple-600 rounded-md text-xs">技术中心</span></td>
                                        <td class="px-6 py-4">2026年Q1</td>
                                        <td class="px-6 py-4"><a href="#" class="text-indigo-600 hover:underline" onclick="openTaskListModal('技术中心', '2026年Q1')">8/8</a></td>
                                        <td class="px-6 py-4">4.8</td>
                                        <td class="px-6 py-4">4.7</td>
                                        <td class="px-6 py-4">4.6</td>
                                        <td class="px-6 py-4">4.8</td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">4.73</td>
                                        <td class="px-6 py-4 text-right"><button class="text-indigo-600 hover:underline" onclick="openTaskDetailModal('技术中心', '2026年Q1')">查看详情</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="departmentEvaluationTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">部门/中心季度评价</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">服务中心</th>
                                        <th class="px-6 py-4">评价季度</th>
                                        <th class="px-6 py-4">评价状态</th>
                                        <th class="px-6 py-4">协同配合分</th>
                                        <th class="px-6 py-4">工作效率分</th>
                                        <th class="px-6 py-4">成果质量分</th>
                                        <th class="px-6 py-4">综合服务平均分</th>
                                        <th class="px-6 py-4">评价人</th>
                                        <th class="px-6 py-4">评价时间</th>
                                        <th class="px-6 py-4 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-blue-50 text-blue-600 rounded-md text-xs">设计中心</span></td>
                                        <td class="px-6 py-4">2026年Q1</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-green-50 text-green-600 rounded-md text-xs">已评价</span></td>
                                        <td class="px-6 py-4">95</td>
                                        <td class="px-6 py-4">92</td>
                                        <td class="px-6 py-4">96</td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">94.8</td>
                                        <td class="px-6 py-4">张经理</td>
                                        <td class="px-6 py-4">2026/01/15</td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="text-indigo-600 hover:underline" onclick="openDepartmentEvaluationPage('设计中心', '2026年Q1')">查看详情</button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-purple-50 text-purple-600 rounded-md text-xs">技术中心</span></td>
                                        <td class="px-6 py-4">2026年Q1</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-yellow-50 text-yellow-600 rounded-md text-xs">未评价</span></td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openDepartmentEvaluationPage('技术中心', '2026年Q1')">评价</button>
                                            <button class="text-indigo-600 hover:underline" onclick="openDepartmentEvaluationPage('技术中心', '2026年Q1')">查看详情</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="leadershipEvaluationTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">领导年度评价</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">服务中心</th>
                                        <th class="px-6 py-4">评价年度</th>
                                        <th class="px-6 py-4">评价状态</th>
                                        <th class="px-6 py-4">综合服务平均分</th>
                                        <th class="px-6 py-4">评价人</th>
                                        <th class="px-6 py-4">评价时间</th>
                                        <th class="px-6 py-4 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-blue-50 text-blue-600 rounded-md text-xs">设计中心</span></td>
                                        <td class="px-6 py-4">2025</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-green-50 text-green-600 rounded-md text-xs">已评价</span></td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">95.2</td>
                                        <td class="px-6 py-4">李总</td>
                                        <td class="px-6 py-4">2026/01/10</td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="text-indigo-600 hover:underline" onclick="openLeadershipEvaluationPage('设计中心', '2025')">查看详情</button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-purple-50 text-purple-600 rounded-md text-xs">技术中心</span></td>
                                        <td class="px-6 py-4">2025</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-yellow-50 text-yellow-600 rounded-md text-xs">未评价</span></td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openLeadershipEvaluationPage('技术中心', '2025')">评价</button>
                                            <button class="text-indigo-600 hover:underline" onclick="openLeadershipEvaluationPage('技术中心', '2025')">查看详情</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="annualPerformanceTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">绩效年度考核</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">年度</th>
                                        <th class="px-6 py-4">中心</th>
                                        <th class="px-6 py-4">签订时间</th>
                                        <th class="px-6 py-4">目标责任书附件</th>
                                        <th class="px-6 py-4">签订状态</th>
                                        <th class="px-6 py-4 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4">2026</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-blue-50 text-blue-600 rounded-md text-xs">设计中心</span></td>
                                        <td class="px-6 py-4">2026/01/05</td>
                                        <td class="px-6 py-4"><a href="#" class="text-indigo-600 hover:underline">下载附件</a></td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-green-50 text-green-600 rounded-md text-xs">已签订</span></td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openEvaluationForm('设计中心', '2026')">评价</button>
                                            <button class="text-indigo-600 hover:underline">查看详情</button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4">2026</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-purple-50 text-purple-600 rounded-md text-xs">技术中心</span></td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-yellow-50 text-yellow-600 rounded-md text-xs">待签订</span></td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openAnnualGoalForm('技术中心', '2026')">签订</button>
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openEvaluationForm('技术中心', '2026')">评价</button>
                                            <button class="text-indigo-600 hover:underline">查看详情</button>
                                        </td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4">2026</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-orange-50 text-orange-600 rounded-md text-xs">商务中心</span></td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4">-</td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-yellow-50 text-yellow-600 rounded-md text-xs">待签订</span></td>
                                        <td class="px-6 py-4 text-right">
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openAnnualGoalForm('商务中心', '2026')">签订</button>
                                            <button class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-xs font-medium hover:bg-orange-200 mr-3" onclick="openEvaluationForm('商务中心', '2026')">评价</button>
                                            <button class="text-indigo-600 hover:underline">查看详情</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="targetLibraryTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">目标责任指标库</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-bold text-slate-700 mb-3">中心目标责任指标库</h4>
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                                    <p class="text-slate-600 mb-3">包含中心层面的共性指标和个性指标，用于年度绩效目标制定。</p>
                                    <button class="px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700">维护指标库</button>
                                </div>
                            </div>
                            <div>
                                <h4 class="font-bold text-slate-700 mb-3">分中心目标责任指标库</h4>
                                <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                                    <p class="text-slate-600 mb-3">包含各分中心层面的具体指标，用于分中心年度绩效目标制定。</p>
                                    <button class="px-4 py-2 bg-indigo-600 text-white text-sm rounded-lg hover:bg-indigo-700">维护指标库</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div id="taskOutputTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">支持项目人均产值明细</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">项目名称</th>
                                        <th class="px-6 py-4">统计月份</th>
                                        <th class="px-6 py-4">产值</th>
                                        <th class="px-6 py-4">项目人数</th>
                                        <th class="px-6 py-4">人均产值</th>
                                        <th class="px-6 py-4">支持任务数</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium">机场T3航站楼项目</td>
                                        <td class="px-6 py-4">2026/01</td>
                                        <td class="px-6 py-4 font-mono">¥ 120,000</td>
                                        <td class="px-6 py-4">5</td>
                                        <td class="px-6 py-4 font-mono">¥ 24,000</td>
                                        <td class="px-6 py-4"><a href="tasks.html" class="text-indigo-600 hover:underline">8</a></td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium">二期工程项目</td>
                                        <td class="px-6 py-4">2026/01</td>
                                        <td class="px-6 py-4 font-mono">¥ 85,000</td>
                                        <td class="px-6 py-4">3</td>
                                        <td class="px-6 py-4 font-mono">¥ 28,333</td>
                                        <td class="px-6 py-4"><a href="tasks.html" class="text-indigo-600 hover:underline">5</a></td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4 font-medium">城市综合体项目</td>
                                        <td class="px-6 py-4">2026/01</td>
                                        <td class="px-6 py-4 font-mono">¥ 150,000</td>
                                        <td class="px-6 py-4">6</td>
                                        <td class="px-6 py-4 font-mono">¥ 25,000</td>
                                        <td class="px-6 py-4"><a href="tasks.html" class="text-indigo-600 hover:underline">12</a></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div id="serviceStarsTab" class="p-6 hidden">
                        <h3 class="font-bold text-lg text-slate-800 mb-4">服务之星</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full text-sm text-left">
                                <thead class="bg-slate-50 text-slate-500 font-medium border-b border-slate-100">
                                    <tr>
                                        <th class="px-6 py-4">姓名</th>
                                        <th class="px-6 py-4">所属支持中心</th>
                                        <th class="px-6 py-4">服务任务数</th>
                                        <th class="px-6 py-4">总产值</th>
                                        <th class="px-6 py-4">服务评价平均分</th>
                                        <th class="px-6 py-4 text-right">操作</th>
                                    </tr>
                                </thead>
                                <tbody class="divide-y divide-slate-100">
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4 flex items-center gap-3">
                                            <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" class="w-8 h-8 rounded-full">
                                            <span class="font-bold text-slate-700">李设计</span>
                                        </td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-blue-50 text-blue-600 rounded-md text-xs">设计中心</span></td>
                                        <td class="px-6 py-4">12</td>
                                        <td class="px-6 py-4 font-mono">¥ 45,000</td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">4.9</td>
                                        <td class="px-6 py-4 text-right"><button class="text-indigo-600 hover:underline">查看详情</button></td>
                                    </tr>
                                    <tr class="hover:bg-slate-50">
                                        <td class="px-6 py-4 flex items-center gap-3">
                                            <div class="w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-xs">王</div>
                                            <span class="font-bold text-slate-700">王采购</span>
                                        </td>
                                        <td class="px-6 py-4"><span class="px-2 py-1 bg-orange-50 text-orange-600 rounded-md text-xs">供应链中心</span></td>
                                        <td class="px-6 py-4">8</td>
                                        <td class="px-6 py-4 font-mono">¥ 32,100</td>
                                        <td class="px-6 py-4 font-bold text-indigo-600">4.7</td>
                                        <td class="px-6 py-4 text-right"><button class="text-indigo-600 hover:underline">查看详情</button></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
            <!-- 部门/中心季度评价页面 -->
            <div id="departmentEvaluationPage" class="page-section max-w-[1600px] mx-auto space-y-6 hidden">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="p-6 border-b border-slate-100">
                        <div class="flex flex-wrap gap-4 items-center justify-between mb-6">
                            <h2 id="departmentEvaluationTitle" class="text-2xl font-bold text-slate-800">部门/中心季度评价</h2>
                            <div class="flex gap-3">
                                <button onclick="backToPerformancePage()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300 flex items-center gap-1">
                                    <i data-lucide="arrow-left" class="w-4 h-4"></i> 返回绩效页面
                                </button>
                                <button onclick="saveDepartmentEvaluationDraft()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300">
                                    保存草稿
                                </button>
                                <button onclick="submitDepartmentEvaluation()" class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-md hover:bg-indigo-700">
                                    提交评价
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 任务信息 -->
                        <div class="bg-slate-50 rounded-xl p-4 mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">任务信息</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">支持中心</label>
                                    <div id="deTaskCenter" class="text-sm font-medium text-slate-800">设计中心</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价季度</label>
                                    <div id="deTaskQuarter" class="text-sm font-medium text-slate-800">2026年Q1</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                    <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                                </div>
                            </div>
                        </div>

                        <!-- 评价信息 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">评价信息</h4>
                            
                            <!-- 评分项 -->
                            <div class="space-y-6 mb-6">
                                <div>
                                    <label class="block text-sm text-slate-600 mb-2">协同配合 (20%权重)</label>
                                    <div class="flex items-center gap-4">
                                        <input type="range" min="0" max="100" value="80" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" id="collaborationScore" oninput="updateScoreDisplay('collaborationScore', 'collaborationScoreDisplay', 'collaborationSatisfaction')">
                                        <span id="collaborationScoreDisplay" class="text-lg font-bold text-indigo-600 w-12 text-center">80</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs mt-1">
                                        <span class="text-slate-400">0</span>
                                        <span id="collaborationSatisfaction" class="text-slate-600 font-medium">满意</span>
                                        <span class="text-slate-400">100</span>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm text-slate-600 mb-2">工作效率 (30%权重)</label>
                                    <div class="flex items-center gap-4">
                                        <input type="range" min="0" max="100" value="85" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" id="efficiencyScore" oninput="updateScoreDisplay('efficiencyScore', 'efficiencyScoreDisplay', 'efficiencySatisfaction')">
                                        <span id="efficiencyScoreDisplay" class="text-lg font-bold text-indigo-600 w-12 text-center">85</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs mt-1">
                                        <span class="text-slate-400">0</span>
                                        <span id="efficiencySatisfaction" class="text-slate-600 font-medium">满意</span>
                                        <span class="text-slate-400">100</span>
                                    </div>
                                </div>

                                <div>
                                    <label class="block text-sm text-slate-600 mb-2">成果质量 (50%权重)</label>
                                    <div class="flex items-center gap-4">
                                        <input type="range" min="0" max="100" value="90" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" id="qualityScore" oninput="updateScoreDisplay('qualityScore', 'qualityScoreDisplay', 'qualitySatisfaction')">
                                        <span id="qualityScoreDisplay" class="text-lg font-bold text-indigo-600 w-12 text-center">90</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs mt-1">
                                        <span class="text-slate-400">0</span>
                                        <span id="qualitySatisfaction" class="text-slate-600 font-medium">非常满意</span>
                                        <span class="text-slate-400">100</span>
                                    </div>
                                </div>

                                <!-- 综合评分 -->
                                <div class="pt-4 border-t border-slate-200">
                                    <label class="block text-sm text-slate-600 mb-2">综合服务平均分</label>
                                    <div class="flex items-center gap-4">
                                        <div class="w-full h-2 bg-slate-200 rounded-lg overflow-hidden">
                                            <div class="h-full bg-indigo-600 rounded-lg" style="width: 87%"></div>
                                        </div>
                                        <span id="overallScore" class="text-lg font-bold text-indigo-600 w-12 text-center">87.0</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 改进建议 -->
                            <div class="mb-6">
                                <label class="block text-sm text-slate-600 mb-2">改进建议</label>
                                <textarea rows="4" id="improvementSuggestion" class="w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100" placeholder="请输入改进建议..."></textarea>
                            </div>

                            <!-- 评价信息 -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价人</label>
                                    <div class="text-sm font-medium text-slate-800">张经理</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价部门</label>
                                    <div class="text-sm font-medium text-slate-800">总包中心</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                    <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- 领导年度评价页面 -->
            <div id="leadershipEvaluationPage" class="page-section max-w-[1600px] mx-auto space-y-6 hidden">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="p-6 border-b border-slate-100">
                        <div class="flex flex-wrap gap-4 items-center justify-between mb-6">
                            <h2 id="leadershipEvaluationTitle" class="text-2xl font-bold text-slate-800">领导年度评价</h2>
                            <div class="flex gap-3">
                                <button onclick="backToPerformancePageFromLeadership()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300 flex items-center gap-1">
                                    <i data-lucide="arrow-left" class="w-4 h-4"></i> 返回绩效页面
                                </button>
                                <button onclick="saveLeadershipEvaluationDraft()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300">
                                    保存草稿
                                </button>
                                <button onclick="submitLeadershipEvaluation()" class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-md hover:bg-indigo-700">
                                    提交评价
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 任务信息 -->
                        <div class="bg-slate-50 rounded-xl p-4 mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">任务信息</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">支持中心</label>
                                    <div id="leTaskCenter" class="text-sm font-medium text-slate-800">技术中心</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价年度</label>
                                    <div id="leTaskYear" class="text-sm font-medium text-slate-800">2025</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                    <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                                </div>
                            </div>
                        </div>

                        <!-- 评价信息 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">评价信息</h4>
                            
                            <!-- 综合评分 -->
                            <div class="space-y-6 mb-6">
                                <div>
                                    <label class="block text-sm text-slate-600 mb-2">综合服务评分</label>
                                    <div class="flex items-center gap-4">
                                        <input type="range" min="0" max="100" value="85" class="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer" id="leadershipOverallScore" oninput="updateLeadershipScoreDisplay()">
                                        <span id="leadershipScoreDisplay" class="text-lg font-bold text-indigo-600 w-12 text-center">85</span>
                                    </div>
                                    <div class="flex justify-between items-center text-xs mt-1">
                                        <span class="text-slate-400">0</span>
                                        <span id="leadershipSatisfaction" class="text-slate-600 font-medium">满意</span>
                                        <span class="text-slate-400">100</span>
                                    </div>
                                </div>
                            </div>

                            <!-- 改进建议 -->
                            <div class="mb-6">
                                <label class="block text-sm text-slate-600 mb-2">改进建议</label>
                                <textarea rows="4" id="leadershipImprovementSuggestion" class="w-full px-4 py-3 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100" placeholder="请输入改进建议..."></textarea>
                            </div>

                            <!-- 评价信息 -->
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价人</label>
                                    <div class="text-sm font-medium text-slate-800">李总</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价部门</label>
                                    <div class="text-sm font-medium text-slate-800">公司管理层</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                    <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div> 

            <!-- 年度绩效目标制定表单页面 -->
            <div id="annualPerformanceGoalForm" class="page-section max-w-[1600px] mx-auto space-y-6 hidden">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="p-6 border-b border-slate-100">
                        <div class="flex flex-wrap gap-4 items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">年度绩效目标制定</h2>
                            <div class="flex gap-3">
                                <button onclick="backToPerformancePage()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300 flex items-center gap-1">
                                    <i data-lucide="arrow-left" class="w-4 h-4"></i> 返回绩效页面
                                </button>
                                <button onclick="saveAnnualGoalDraft()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300">
                                    保存草稿
                                </button>
                                <button onclick="submitAnnualGoal()" class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-md hover:bg-indigo-700">
                                    提交审批
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 基础信息 -->
                        <div class="bg-slate-50 rounded-xl p-4 mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">基础信息</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">中心名称</label>
                                    <div id="goalCenterName" class="text-sm font-medium text-slate-800">技术中心</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价年度</label>
                                    <select id="goalYear" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                        <option value="2026">2026</option>
                                        <option value="2025">2025</option>
                                        <option value="2024">2024</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">制定人</label>
                                    <input type="text" id="goalCreator" value="张经理" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">制定时间</label>
                                    <input type="date" id="goalCreateDate" value="2026-01-21" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                </div>
                            </div>
                        </div>

                        <!-- 整体权重设置 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">整体权重设置</h4>
                            <div class="space-y-4">
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">年度业绩增长率</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="growthRateWeight" value="30" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">%</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">业绩完成率</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="completionRateWeight" value="30" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">%</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">服务评价</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="serviceEvaluationWeight" value="30" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">%</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">领导评价</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="leadershipEvaluationWeight" value="10" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">%</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="text-sm text-slate-500">
                                    <span id="weightSum">100</span>% (总权重必须为100%)
                                </div>
                            </div>
                        </div>

                        <!-- 业绩增长率指标设置 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">业绩增长率指标设置</h4>
                            <div class="bg-white border border-slate-200 rounded-lg p-4">
                                <div class="mb-4">
                                    <label class="block text-xs text-slate-400 mb-1">指标选择</label>
                                    <button onclick="openGrowthRateIndicatorModal()" class="w-full px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm flex items-center justify-between transition-colors">
                                        <span id="growthRateIndicatorBtnText">选择指标</span>
                                        <i data-lucide="chevron-down" class="w-4 h-4"></i>
                                    </button>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-xs text-slate-400 mb-1">已选择指标</label>
                                    <div id="selectedGrowthIndicatorsList" class="flex flex-wrap gap-2">
                                        <!-- 已选择的指标将动态添加到这里 -->
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">权重总和</label>
                                    <div class="flex items-center gap-2">
                                        <div id="growthRateWeightsSum" class="text-sm font-medium text-slate-800">0</div>
                                        <span class="text-sm text-slate-500">%</span>
                                        <span id="growthRateWeightsValid" class="text-xs text-red-500 ml-2">请确保权重总和为100%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 业绩完成率指标设置 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">业绩完成率指标设置</h4>
                            <div class="bg-white border border-slate-200 rounded-lg p-4">
                                <div class="mb-4">
                                    <label class="block text-xs text-slate-400 mb-1">指标选择</label>
                                    <button onclick="openCompletionRateIndicatorModal()" class="w-full px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg text-sm flex items-center justify-between transition-colors">
                                        <span id="completionRateIndicatorBtnText">选择指标</span>
                                        <i data-lucide="chevron-down" class="w-4 h-4"></i>
                                    </button>
                                </div>
                                <div class="mb-4">
                                    <label class="block text-xs text-slate-400 mb-1">已选择指标</label>
                                    <div id="selectedCompletionIndicatorsList" class="flex flex-wrap gap-2">
                                        <!-- 已选择的指标将动态添加到这里 -->
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">权重总和</label>
                                    <div class="flex items-center gap-2">
                                        <div id="completionRateWeightsSum" class="text-sm font-medium text-slate-800">0</div>
                                        <span class="text-sm text-slate-500">%</span>
                                        <span id="completionRateWeightsValid" class="text-xs text-red-500 ml-2">请确保权重总和为100%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 服务评价设置 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">服务评价设置</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">项目评价权重</label>
                                    <div class="flex items-center gap-2">
                                        <input type="number" id="projectEvaluationWeight" value="50" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                        <span class="text-sm text-slate-500">%</span>
                                    </div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">业务部门/中心评价权重</label>
                                    <div class="flex items-center gap-2">
                                        <input type="number" id="departmentEvaluationWeight" value="50" min="0" max="100" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                        <span class="text-sm text-slate-500">%</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 评价信息 -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">制定人</label>
                                <div class="text-sm font-medium text-slate-800">张经理</div>
                            </div>
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">制定部门</label>
                                <div class="text-sm font-medium text-slate-800">总包中心</div>
                            </div>
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">制定时间</label>
                                <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 目标责任评价表单页面 -->
            <div id="targetResponsibilityEvaluationForm" class="page-section max-w-[1600px] mx-auto space-y-6 hidden">
                <div class="bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden">
                    <div class="p-6 border-b border-slate-100">
                        <div class="flex flex-wrap gap-4 items-center justify-between mb-6">
                            <h2 class="text-2xl font-bold text-slate-800">目标责任评价</h2>
                            <div class="flex gap-3">
                                <button onclick="backToPerformancePage()" class="px-3 py-1.5 bg-slate-200 text-slate-700 text-xs rounded-md hover:bg-slate-300 flex items-center gap-1">
                                    <i data-lucide="arrow-left" class="w-4 h-4"></i> 返回绩效页面
                                </button>
                                <button onclick="submitEvaluation()" class="px-3 py-1.5 bg-indigo-600 text-white text-xs rounded-md hover:bg-indigo-700">
                                    提交审核
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="p-6">
                        <!-- 基础信息 -->
                        <div class="bg-slate-50 rounded-xl p-4 mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">基础信息</h4>
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">中心名称</label>
                                    <div id="evalCenterName" class="text-sm font-medium text-slate-800">技术中心</div>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价年度</label>
                                    <select id="evalYear" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                        <option value="2025">2025</option>
                                        <option value="2024">2024</option>
                                        <option value="2023">2023</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价人</label>
                                    <input type="text" id="evalCreator" value="张经理" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                </div>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                    <input type="date" id="evalCreateDate" value="2026-01-21" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                </div>
                            </div>
                        </div>

                        <!-- 评价打分模块 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">评价打分</h4>
                            
                            <!-- 年度业绩增长率指标打分 -->
                            <div class="bg-white border border-slate-200 rounded-lg p-4 mb-4">
                                <h5 class="font-medium text-slate-600 mb-3">年度业绩增长率指标打分</h5>
                                <div class="space-y-4" id="growthRateScoringContainer">
                                    <!-- 动态生成的打分输入框将添加到这里 -->
                                    <div id="growthRateIndicatorsList" class="space-y-3">
                                        <!-- 指标项将通过JavaScript动态生成 -->
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">加权平均分</label>
                                        <div class="text-sm font-medium text-slate-800" id="growthRateWeightedScore">90分</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 业绩完成率指标打分 -->
                            <div class="bg-white border border-slate-200 rounded-lg p-4 mb-4">
                                <h5 class="font-medium text-slate-600 mb-3">业绩完成率指标打分</h5>
                                <div class="space-y-4" id="completionRateScoringContainer">
                                    <!-- 动态生成的打分输入框将添加到这里 -->
                                    <div id="completionRateIndicatorsList" class="space-y-3">
                                        <!-- 指标项将通过JavaScript动态生成 -->
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">加权平均分</label>
                                        <div class="text-sm font-medium text-slate-800" id="completionRateWeightedScore">85分</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 服务评价 -->
                            <div class="bg-white border border-slate-200 rounded-lg p-4 mb-4">
                                <h5 class="font-medium text-slate-600 mb-3">服务评价</h5>
                                <div class="space-y-4">
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">项目服务评价平均分</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="projectServiceScore" value="4.8" min="0" max="5" step="0.1" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">分</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">业务部门/中心评价平均分</label>
                                        <div class="flex items-center gap-2">
                                            <input type="number" id="departmentServiceScore" value="4.7" min="0" max="5" step="0.1" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                            <span class="text-sm text-slate-500">分</span>
                                        </div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">加权平均分</label>
                                        <div class="text-sm font-medium text-slate-800">4.75分</div>
                                    </div>
                                </div>
                            </div>

                            <!-- 领导年度打分 -->
                            <div class="bg-white border border-slate-200 rounded-lg p-4">
                                <h5 class="font-medium text-slate-600 mb-3">领导年度打分</h5>
                                <div>
                                    <label class="block text-xs text-slate-400 mb-1">领导评价分数</label>
                                    <div class="text-sm font-medium text-slate-800">92分 (不可修改)</div>
                                </div>
                            </div>
                        </div>

                        <!-- 总分计算 -->
                        <div class="mb-6">
                            <h4 class="font-medium text-slate-700 mb-3">总分计算</h4>
                            <div class="bg-slate-50 p-4 rounded-lg border border-slate-200">
                                <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-4">
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">年度业绩增长率</label>
                                        <div class="text-sm font-medium text-slate-800">90分 × 30% = 27分</div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">业绩完成率</label>
                                        <div class="text-sm font-medium text-slate-800">85分 × 30% = 25.5分</div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">服务评价</label>
                                        <div class="text-sm font-medium text-slate-800">4.75分 × 30% = 14.25分</div>
                                    </div>
                                    <div>
                                        <label class="block text-xs text-slate-400 mb-1">领导评价</label>
                                        <div class="text-sm font-medium text-slate-800">92分 × 10% = 9.2分</div>
                                    </div>
                                </div>
                                <div class="border-t border-slate-200 pt-4">
                                    <div class="flex justify-between items-center">
                                        <label class="text-sm font-medium text-slate-700">总分</label>
                                        <div class="text-lg font-bold text-indigo-600">75.95分</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- 评价信息 -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">评价人</label>
                                <div class="text-sm font-medium text-slate-800">张经理</div>
                            </div>
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">评价部门</label>
                                <div class="text-sm font-medium text-slate-800">总包中心</div>
                            </div>
                            <div>
                                <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                                <div class="text-sm font-medium text-slate-800">2026/01/21</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </main>

    <!-- 业绩增长率指标选择弹窗 -->
    <div id="growthRateIndicatorModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-fadeIn">
            <div class="p-4 border-b border-slate-200 flex items-center justify-between">
                <h3 class="font-medium text-slate-800">中心支持服务工作清单 - 共性指标</h3>
                <button onclick="closeGrowthRateIndicatorModal()" class="text-slate-400 hover:text-slate-600">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-4">
                <div class="mb-4 flex items-center justify-between">
                    <button onclick="toggleSelectAllGrowthRateIndicators()" class="text-sm text-indigo-600 hover:text-indigo-800">
                        <span id="growthRateSelectAllText">全选</span>
                    </button>
                    <span class="text-sm text-slate-500" id="growthRateSelectedCount">已选择 0 项</span>
                </div>
                <div class="space-y-3">
                    <!-- 指标列表 -->
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">年度业绩增长率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">年度目标任务完成率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">关键指标达成率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">部门协作满意度</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">服务响应及时率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">服务质量合格率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">客户满意度</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">创新能力</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">团队建设</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="growth-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">安全管理</span>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-200 flex justify-end gap-3">
                <button onclick="closeGrowthRateIndicatorModal()" class="px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm transition-colors">
                    取消
                </button>
                <button onclick="confirmGrowthRateIndicatorSelection()" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm transition-colors">
                    确定
                </button>
            </div>
        </div>
    </div>

    <!-- 业绩完成率指标选择弹窗 -->
    <div id="completionRateIndicatorModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl max-h-[80vh] flex flex-col animate-fadeIn">
            <div class="p-4 border-b border-slate-200 flex items-center justify-between">
                <h3 class="font-medium text-slate-800">中心支持服务工作清单 - 个性指标</h3>
                <button onclick="closeCompletionRateIndicatorModal()" class="text-slate-400 hover:text-slate-600">
                    <i data-lucide="x" class="w-5 h-5"></i>
                </button>
            </div>
            <div class="flex-1 overflow-y-auto p-4">
                <div class="mb-4 flex items-center justify-between">
                    <button onclick="toggleSelectAllCompletionRateIndicators()" class="text-sm text-indigo-600 hover:text-indigo-800">
                        <span id="completionRateSelectAllText">全选</span>
                    </button>
                    <span class="text-sm text-slate-500" id="completionRateSelectedCount">已选择 0 项</span>
                </div>
                <div class="space-y-3">
                    <!-- 指标列表 -->
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">项目完成率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">任务完成率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">质量达标率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">成本控制率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">进度达成率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">资源利用率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">风险管控率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">客户投诉处理率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">创新成果转化率</span>
                    </div>
                    <div class="flex items-center gap-2 p-2 hover:bg-slate-50 rounded">
                        <input type="checkbox" class="completion-rate-indicator-checkbox w-4 h-4 text-indigo-600 rounded border-slate-300 focus:ring-indigo-500">
                        <span class="text-sm text-slate-700 flex-1">团队协作效率</span>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-200 flex justify-end gap-3">
                <button onclick="closeCompletionRateIndicatorModal()" class="px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm transition-colors">
                    取消
                </button>
                <button onclick="confirmCompletionRateIndicatorSelection()" class="px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg text-sm transition-colors">
                    确定
                </button>
            </div>
        </div>
    </div>

    <script>
        // 初始化 Lucide 图标
        lucide.createIcons();

        // 导航函数
        function navigateTo(page) {
            window.location.href = page;
        }

        // 组织菜单切换
        function toggleOrgMenu() {
            const orgMenu = document.getElementById('orgMenu');
            orgMenu.classList.toggle('hidden');
        }

        // 切换组织
        function changeOrg(orgName) {
            document.getElementById('currentOrg').textContent = orgName;
            toggleOrgMenu();
        }

        // 切换中心视图
        function switchCenterView(centerName, element) {
            // 移除所有活动状态
            document.querySelectorAll('.center-nav').forEach(item => {
                item.classList.remove('active');
            });
            
            // 添加活动状态到当前元素
            if (element) {
                element.classList.add('active');
            }
            
            // 更新中心徽章
            const centerBadge = document.getElementById('centerBadge');
            if (centerBadge) {
                centerBadge.textContent = centerName;
                
                // 根据中心设置不同颜色
                const colorMap = {
                    '总包中心': 'bg-blue-100 text-blue-700',
                    '设计中心': 'bg-purple-100 text-purple-700',
                    '技术中心': 'bg-emerald-100 text-emerald-700',
                    '商务中心': 'bg-orange-100 text-orange-700',
                    '供应链中心': 'bg-cyan-100 text-cyan-700'
                };
                
                // 移除所有颜色类
                centerBadge.className = 'px-2 py-0.5 text-xs rounded-full font-bold';
                
                // 添加对应颜色类
                if (colorMap[centerName]) {
                    centerBadge.classList.add(...colorMap[centerName].split(' '));
                }
            }
        }

        // 返回绩效页面
        function backToPerformancePage() {
            // 显示绩效页面
            document.getElementById('performance').classList.add('active');
            // 隐藏所有表单页面
            document.getElementById('annualPerformanceGoalForm').classList.remove('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.remove('active');
            document.getElementById('departmentEvaluationPage').classList.remove('active');
            document.getElementById('leadershipEvaluationPage').classList.remove('active');
        }

        // 打开年度绩效目标制定表单
        function openAnnualGoalForm(center, year) {
            // 更新表单中的中心名称和年份
            document.getElementById('goalCenterName').textContent = center;
            document.getElementById('goalYear').value = year;
            
            // 显示表单页面
            document.getElementById('performance').classList.remove('active');
            document.getElementById('annualPerformanceGoalForm').classList.add('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.remove('active');
        }

        // 打开目标责任评价表单
        function openEvaluationForm(center, year) {
            // 更新表单中的中心名称和年份
            document.getElementById('evalCenterName').textContent = center;
            document.getElementById('evalYear').value = year;
            
            // 显示表单页面
            document.getElementById('performance').classList.remove('active');
            document.getElementById('annualPerformanceGoalForm').classList.remove('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.add('active');
        }

        // 保存草稿
        function saveAnnualGoalDraft() {
            alert('草稿已保存');
        }

        // 提交审批
        function submitAnnualGoal() {
            alert('已提交审批');
        }

        // 提交审核
        function submitEvaluation() {
            alert('已提交审核');
        }

        // 初始化产值与绩效图表
        function initPerformanceChart() {
            const performanceChartCtx = document.getElementById('performanceChart');
            if (performanceChartCtx) {
                new Chart(performanceChartCtx, {
                    type: 'bar',
                    data: {
                        labels: ['1月', '2月', '3月', '4月', '5月', '6月'],
                        datasets: [
                            {
                                label: '累计产值(万元)',
                                data: [120, 200, 310, 420, 530, 640],
                                backgroundColor: 'rgba(79, 70, 229, 0.8)',
                                borderColor: 'rgba(79, 70, 229, 1)',
                                borderWidth: 1,
                                borderRadius: 4,
                                order: 2
                            },
                            {
                                label: '增长率(%)',
                                data: [5.2, 8.7, 12.3, 9.8, 15.2, 12.5],
                                type: 'line',
                                borderColor: 'rgba(16, 185, 129, 1)',
                                backgroundColor: 'rgba(16, 185, 129, 0.1)',
                                borderWidth: 2,
                                fill: true,
                                tension: 0.4,
                                order: 1,
                                yAxisID: 'y1'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        interaction: {
                            mode: 'index',
                            intersect: false,
                        },
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            y: {
                                type: 'linear',
                                display: true,
                                position: 'left',
                                beginAtZero: true,
                                grid: {
                                    color: 'rgba(0, 0, 0, 0.05)'
                                }
                            },
                            y1: {
                                type: 'linear',
                                display: true,
                                position: 'right',
                                beginAtZero: true,
                                max: 20,
                                grid: {
                                    drawOnChartArea: false,
                                },
                                ticks: {
                                    callback: function(value) {
                                        return value + '%';
                                    }
                                }
                            },
                            x: {
                                grid: {
                                    display: false
                                }
                            }
                        }
                    }
                });
            }
        }

        // 初始化各中心产值对比图表
        function initCenterComparisonChart() {
            const centerComparisonChartCtx = document.getElementById('centerComparisonChart');
            if (centerComparisonChartCtx) {
                new Chart(centerComparisonChartCtx, {
                    type: 'pie',
                    data: {
                        labels: ['设计中心', '供应链中心', '技术中心', '商务中心', '总包中心'],
                        datasets: [{
                            data: [450, 320, 280, 234, 180],
                            backgroundColor: [
                                'rgba(124, 58, 237, 0.8)',
                                'rgba(6, 182, 212, 0.8)',
                                'rgba(16, 185, 129, 0.8)',
                                'rgba(249, 115, 22, 0.8)',
                                'rgba(79, 70, 229, 0.8)'
                            ],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            legend: {
                                position: 'right',
                                labels: {
                                    boxWidth: 12,
                                    padding: 15
                                }
                            }
                        }
                    }
                });
            }
        }

        // 业绩增长率指标选择弹窗
        function openGrowthRateIndicatorModal() {
            const modal = document.getElementById('growthRateIndicatorModal');
            modal.classList.remove('hidden');
            // 重新初始化图标
            lucide.createIcons();
            // 添加点击外部关闭事件
            setTimeout(() => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeGrowthRateIndicatorModal();
                    }
                });
            }, 100);
            // 添加复选框事件监听器
            const checkboxes = document.querySelectorAll('.growth-rate-indicator-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateGrowthRateSelectedCount);
            });
        }

        function closeGrowthRateIndicatorModal() {
            const modal = document.getElementById('growthRateIndicatorModal');
            modal.classList.add('hidden');
        }

        // 业绩完成率指标选择弹窗
        function openCompletionRateIndicatorModal() {
            const modal = document.getElementById('completionRateIndicatorModal');
            modal.classList.remove('hidden');
            // 重新初始化图标
            lucide.createIcons();
            // 添加点击外部关闭事件
            setTimeout(() => {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeCompletionRateIndicatorModal();
                    }
                });
            }, 100);
            // 添加复选框事件监听器
            const checkboxes = document.querySelectorAll('.completion-rate-indicator-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', updateCompletionRateSelectedCount);
            });
        }

        function closeCompletionRateIndicatorModal() {
            const modal = document.getElementById('completionRateIndicatorModal');
            modal.classList.add('hidden');
        }

        // 更新业绩增长率已选择数量
        function updateGrowthRateSelectedCount() {
            const checkboxes = document.querySelectorAll('.growth-rate-indicator-checkbox');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            document.getElementById('growthRateSelectedCount').textContent = `已选择 ${checkedCount} 项`;
        }

        // 更新业绩完成率已选择数量
        function updateCompletionRateSelectedCount() {
            const checkboxes = document.querySelectorAll('.completion-rate-indicator-checkbox');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;
            document.getElementById('completionRateSelectedCount').textContent = `已选择 ${checkedCount} 项`;
        }

        // 全选/取消全选业绩增长率指标
        function toggleSelectAllGrowthRateIndicators() {
            const checkboxes = document.querySelectorAll('.growth-rate-indicator-checkbox');
            const selectAllText = document.getElementById('growthRateSelectAllText');
            const isAllChecked = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = !isAllChecked;
            });
            
            selectAllText.textContent = isAllChecked ? '全选' : '取消全选';
            updateGrowthRateSelectedCount();
        }

        // 全选/取消全选业绩完成率指标
        function toggleSelectAllCompletionRateIndicators() {
            const checkboxes = document.querySelectorAll('.completion-rate-indicator-checkbox');
            const selectAllText = document.getElementById('completionRateSelectAllText');
            const isAllChecked = Array.from(checkboxes).every(cb => cb.checked);
            
            checkboxes.forEach(checkbox => {
                checkbox.checked = !isAllChecked;
            });
            
            selectAllText.textContent = isAllChecked ? '全选' : '取消全选';
            updateCompletionRateSelectedCount();
        }

        // 确认业绩增长率指标选择
        function confirmGrowthRateIndicatorSelection() {
            const checkboxes = document.querySelectorAll('.growth-rate-indicator-checkbox');
            const selectedIndicators = [];
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const indicatorName = checkbox.nextElementSibling.textContent;
                    selectedIndicators.push(indicatorName);
                }
            });
            
            if (selectedIndicators.length > 0) {
                // 更新按钮文本
                document.getElementById('growthRateIndicatorBtnText').textContent = `${selectedIndicators.length} 个指标已选择`;
                // 回填指标到已选择列表
                renderSelectedGrowthIndicators(selectedIndicators);
            }
            
            closeGrowthRateIndicatorModal();
        }

        // 确认业绩完成率指标选择
        function confirmCompletionRateIndicatorSelection() {
            const checkboxes = document.querySelectorAll('.completion-rate-indicator-checkbox');
            const selectedIndicators = [];
            
            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    const indicatorName = checkbox.nextElementSibling.textContent;
                    selectedIndicators.push(indicatorName);
                }
            });
            
            if (selectedIndicators.length > 0) {
                // 更新按钮文本
                document.getElementById('completionRateIndicatorBtnText').textContent = `${selectedIndicators.length} 个指标已选择`;
                // 回填指标到已选择列表
                renderSelectedCompletionIndicators(selectedIndicators);
            }
            
            closeCompletionRateIndicatorModal();
        }

        // 渲染已选择的业绩增长率指标
        function renderSelectedGrowthIndicators(indicators) {
            const container = document.getElementById('selectedGrowthIndicatorsList');
            container.innerHTML = '';
            
            indicators.forEach((indicator, index) => {
                const indicatorItem = document.createElement('div');
                indicatorItem.className = 'flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-lg';
                indicatorItem.innerHTML = `
                    <span class="text-sm text-slate-700">${indicator}</span>
                    <input type="number" value="${100/indicators.length}" min="0" max="100" 
                           class="w-16 px-2 py-1 border border-slate-200 rounded text-sm"
                           oninput="updateGrowthRateWeightsSum()">
                    <span class="text-xs text-slate-500">%</span>
                    <button onclick="removeGrowthRateIndicator(this)" class="text-slate-400 hover:text-red-500">
                        <i data-lucide="x" class="w-3 h-3"></i>
                    </button>
                `;
                container.appendChild(indicatorItem);
            });
            
            // 重新初始化图标
            lucide.createIcons();
            // 更新权重总和
            updateGrowthRateWeightsSum();
        }

        // 渲染已选择的业绩完成率指标
        function renderSelectedCompletionIndicators(indicators) {
            const container = document.getElementById('selectedCompletionIndicatorsList');
            container.innerHTML = '';
            
            indicators.forEach((indicator, index) => {
                const indicatorItem = document.createElement('div');
                indicatorItem.className = 'flex items-center gap-2 bg-slate-100 px-3 py-2 rounded-lg';
                indicatorItem.innerHTML = `
                    <span class="text-sm text-slate-700">${indicator}</span>
                    <input type="number" value="${100/indicators.length}" min="0" max="100" 
                           class="w-16 px-2 py-1 border border-slate-200 rounded text-sm"
                           oninput="updateCompletionRateWeightsSum()">
                    <span class="text-xs text-slate-500">%</span>
                    <button onclick="removeCompletionRateIndicator(this)" class="text-slate-400 hover:text-red-500">
                        <i data-lucide="x" class="w-3 h-3"></i>
                    </button>
                `;
                container.appendChild(indicatorItem);
            });
            
            // 重新初始化图标
            lucide.createIcons();
            // 更新权重总和
            updateCompletionRateWeightsSum();
        }

        // 移除业绩增长率指标
        function removeGrowthRateIndicator(button) {
            const indicatorItem = button.closest('div');
            indicatorItem.remove();
            // 更新按钮文本
            const container = document.getElementById('selectedGrowthIndicatorsList');
            const indicatorCount = container.children.length;
            if (indicatorCount === 0) {
                document.getElementById('growthRateIndicatorBtnText').textContent = '选择指标';
            } else {
                document.getElementById('growthRateIndicatorBtnText').textContent = `${indicatorCount} 个指标已选择`;
            }
            // 更新权重总和
            updateGrowthRateWeightsSum();
        }

        // 移除业绩完成率指标
        function removeCompletionRateIndicator(button) {
            const indicatorItem = button.closest('div');
            indicatorItem.remove();
            // 更新按钮文本
            const container = document.getElementById('selectedCompletionIndicatorsList');
            const indicatorCount = container.children.length;
            if (indicatorCount === 0) {
                document.getElementById('completionRateIndicatorBtnText').textContent = '选择指标';
            } else {
                document.getElementById('completionRateIndicatorBtnText').textContent = `${indicatorCount} 个指标已选择`;
            }
            // 更新权重总和
            updateCompletionRateWeightsSum();
        }

        // 更新业绩增长率权重总和
        function updateGrowthRateWeightsSum() {
            const weightInputs = document.querySelectorAll('#selectedGrowthIndicatorsList input[type="number"]');
            let totalWeight = 0;
            
            weightInputs.forEach(input => {
                totalWeight += parseFloat(input.value) || 0;
            });
            
            const sumElement = document.getElementById('growthRateWeightsSum');
            const validElement = document.getElementById('growthRateWeightsValid');
            
            sumElement.textContent = totalWeight.toFixed(1);
            
            if (Math.abs(totalWeight - 100) < 0.1) {
                validElement.textContent = '权重总和正确';
                validElement.className = 'text-xs text-green-500 ml-2';
            } else {
                validElement.textContent = '请确保权重总和为100%';
                validElement.className = 'text-xs text-red-500 ml-2';
            }
        }

        // 更新业绩完成率权重总和
        function updateCompletionRateWeightsSum() {
            const weightInputs = document.querySelectorAll('#selectedCompletionIndicatorsList input[type="number"]');
            let totalWeight = 0;
            
            weightInputs.forEach(input => {
                totalWeight += parseFloat(input.value) || 0;
            });
            
            const sumElement = document.getElementById('completionRateWeightsSum');
            const validElement = document.getElementById('completionRateWeightsValid');
            
            sumElement.textContent = totalWeight.toFixed(1);
            
            if (Math.abs(totalWeight - 100) < 0.1) {
                validElement.textContent = '权重总和正确';
                validElement.className = 'text-xs text-green-500 ml-2';
            } else {
                validElement.textContent = '请确保权重总和为100%';
                validElement.className = 'text-xs text-red-500 ml-2';
            }
        }

        // 计算加权平均分
        function calculateWeightedScore(scores, weights) {
            if (scores.length !== weights.length) {
                return 0;
            }
            
            let totalScore = 0;
            let totalWeight = 0;
            
            for (let i = 0; i < scores.length; i++) {
                totalScore += scores[i] * weights[i];
                totalWeight += weights[i];
            }
            
            return totalWeight > 0 ? totalScore / totalWeight : 0;
        }

        // 初始化评价页面的打分输入框
        function initScoringInputs() {
            // 模拟从配置中加载多个指标项
            const growthRateIndicators = [
                { id: 'revenueGrowth', name: '营收增长率', score: 90, weight: 60 },
                { id: 'profitGrowth', name: '利润增长率', score: 85, weight: 40 }
            ];
            
            const completionRateIndicators = [
                { id: 'projectCompletion', name: '项目完成率', score: 85, weight: 70 },
                { id: 'taskCompletion', name: '任务完成率', score: 90, weight: 30 }
            ];
            
            // 清空容器
            document.getElementById('growthRateIndicatorsList').innerHTML = '';
            document.getElementById('completionRateIndicatorsList').innerHTML = '';
            
            // 添加增长率指标项
            growthRateIndicators.forEach(indicator => {
                addGrowthRateIndicatorItem(indicator);
            });
            
            // 添加完成率指标项
            completionRateIndicators.forEach(indicator => {
                addCompletionRateIndicatorItem(indicator);
            });
            
            // 初始化计算
            calculateGrowthRateWeightedScore();
            calculateCompletionRateWeightedScore();
        }
        
        // 添加增长率指标项
        function addGrowthRateIndicatorItem(indicator) {
            const container = document.getElementById('growthRateIndicatorsList');
            const indicatorItem = document.createElement('div');
            indicatorItem.className = 'flex items-center gap-3 p-3 bg-slate-50 rounded-lg';
            
            indicatorItem.innerHTML = `
                <div class="flex-1">
                    <label class="block text-xs text-slate-400 mb-1">${indicator.name}</label>
                    <div class="flex items-center gap-2">
                        <input type="number" id="growthRateScore_${indicator.id}" value="${indicator.score}" min="0" max="100" 
                               class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100"
                               oninput="calculateGrowthRateWeightedScore()">
                        <span class="text-sm text-slate-500">分</span>
                    </div>
                </div>
                <div class="w-32">
                    <label class="block text-xs text-slate-400 mb-1">权重</label>
                    <div class="flex items-center gap-2">
                        <input type="number" id="growthRateWeight_${indicator.id}" value="${indicator.weight}" min="0" max="100" 
                               class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100"
                               oninput="calculateGrowthRateWeightedScore()">
                        <span class="text-sm text-slate-500">%</span>
                    </div>
                </div>
            `;
            
            container.appendChild(indicatorItem);
        }
        
        // 添加完成率指标项
        function addCompletionRateIndicatorItem(indicator) {
            const container = document.getElementById('completionRateIndicatorsList');
            const indicatorItem = document.createElement('div');
            indicatorItem.className = 'flex items-center gap-3 p-3 bg-slate-50 rounded-lg';
            
            indicatorItem.innerHTML = `
                <div class="flex-1">
                    <label class="block text-xs text-slate-400 mb-1">${indicator.name}</label>
                    <div class="flex items-center gap-2">
                        <input type="number" id="completionRateScore_${indicator.id}" value="${indicator.score}" min="0" max="100" 
                               class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100"
                               oninput="calculateCompletionRateWeightedScore()">
                        <span class="text-sm text-slate-500">分</span>
                    </div>
                </div>
                <div class="w-32">
                    <label class="block text-xs text-slate-400 mb-1">权重</label>
                    <div class="flex items-center gap-2">
                        <input type="number" id="completionRateWeight_${indicator.id}" value="${indicator.weight}" min="0" max="100" 
                               class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100"
                               oninput="calculateCompletionRateWeightedScore()">
                        <span class="text-sm text-slate-500">%</span>
                    </div>
                </div>
            `;
            
            container.appendChild(indicatorItem);
        }
        
        // 计算增长率加权平均分
        function calculateGrowthRateWeightedScore() {
            const indicatorsList = document.getElementById('growthRateIndicatorsList');
            const scoreInputs = indicatorsList.querySelectorAll('input[id^="growthRateScore_"]');
            const weightInputs = indicatorsList.querySelectorAll('input[id^="growthRateWeight_"]');
            
            const scores = [];
            const weights = [];
            
            scoreInputs.forEach((input, index) => {
                scores.push(parseFloat(input.value) || 0);
                weights.push(parseFloat(weightInputs[index].value) || 0);
            });
            
            const weightedScore = calculateWeightedScore(scores, weights);
            document.getElementById('growthRateWeightedScore').textContent = `${weightedScore.toFixed(1)}分`;
        }
        
        // 计算完成率加权平均分
        function calculateCompletionRateWeightedScore() {
            const indicatorsList = document.getElementById('completionRateIndicatorsList');
            const scoreInputs = indicatorsList.querySelectorAll('input[id^="completionRateScore_"]');
            const weightInputs = indicatorsList.querySelectorAll('input[id^="completionRateWeight_"]');
            
            const scores = [];
            const weights = [];
            
            scoreInputs.forEach((input, index) => {
                scores.push(parseFloat(input.value) || 0);
                weights.push(parseFloat(weightInputs[index].value) || 0);
            });
            
            const weightedScore = calculateWeightedScore(scores, weights);
            document.getElementById('completionRateWeightedScore').textContent = `${weightedScore.toFixed(1)}分`;
        }

        // 初始化绩效雷达图
        function initPerformanceRadarChart() {
            const performanceRadarChartCtx = document.getElementById('performanceRadarChart');
            if (performanceRadarChartCtx) {
                new Chart(performanceRadarChartCtx, {
                    type: 'radar',
                    data: {
                        labels: ['产值完成', '任务完成', '客户满意度', '进度达标', '质量控制'],
                        datasets: [
                            {
                                label: '设计中心',
                                data: [95, 90, 98, 92, 96],
                                backgroundColor: 'rgba(124, 58, 237, 0.2)',
                                borderColor: 'rgba(124, 58, 237, 1)',
                                pointBackgroundColor: 'rgba(124, 58, 237, 1)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgba(124, 58, 237, 1)'
                            },
                            {
                                label: '供应链中心',
                                data: [88, 92, 95, 85, 90],
                                backgroundColor: 'rgba(6, 182, 212, 0.2)',
                                borderColor: 'rgba(6, 182, 212, 1)',
                                pointBackgroundColor: 'rgba(6, 182, 212, 1)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgba(6, 182, 212, 1)'
                            },
                            {
                                label: '总包中心',
                                data: [85, 88, 92, 86, 89],
                                backgroundColor: 'rgba(79, 70, 229, 0.2)',
                                borderColor: 'rgba(79, 70, 229, 1)',
                                pointBackgroundColor: 'rgba(79, 70, 229, 1)',
                                pointBorderColor: '#fff',
                                pointHoverBackgroundColor: '#fff',
                                pointHoverBorderColor: 'rgba(79, 70, 229, 1)'
                            }
                        ]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            r: {
                                angleLines: {
                                    display: true,
                                    color: 'rgba(0, 0, 0, 0.05)'
                                },
                                suggestedMin: 70,
                                suggestedMax: 100
                            }
                        }
                    }
                });
            }
        }

        // 页面加载完成后初始化图表和徽标
        window.addEventListener('DOMContentLoaded', function() {
            initPerformanceChart();
            initCenterComparisonChart();
            initPerformanceRadarChart();
            initBadges();
            initScoringInputs();
            // 默认选中绩效年度考核页签
            switchPerformanceTab('annualPerformance');
        });

        // 时间选择功能
        function toggleTimeDropdown() {
            const dropdown = document.getElementById('timeDropdown');
            dropdown.classList.toggle('hidden');
        }

        function selectTime(timeValue) {
            document.getElementById('selectedTime').textContent = timeValue;
            document.getElementById('timeDropdown').classList.add('hidden');
            // 触发数据更新逻辑
            updatePerformanceData(timeValue);
        }

        function updatePerformanceData(timeValue) {
            // 这里实现数据联动更新逻辑
            console.log('更新数据 for:', timeValue);
            // 可以根据选择的时间更新表格数据、图表等
        }

        // 点击其他区域关闭时间下拉菜单
        document.addEventListener('click', function(event) {
            const timeSelector = document.getElementById('timeSelector');
            const timeDropdown = document.getElementById('timeDropdown');
            if (!timeSelector.contains(event.target)) {
                timeDropdown.classList.add('hidden');
            }
        });

        // 催办评价功能
        function urgeEvaluation(center, quarter) {
            // 这里实现催办逻辑
            console.log('催办评价 for:', center, quarter);
            // 可以弹出催办确认对话框或直接发送催办通知
            alert(`已向${center}发送${quarter}季度评价催办通知`);
        }

        // 消息数据
        const notificationData = {
            projectEvaluation: 1,
            departmentEvaluation: 1,
            leadershipEvaluation: 1,
            annualPerformance: 5
        };

        // 初始化徽标
        function initBadges() {
            Object.keys(notificationData).forEach(tabName => {
                const badge = document.getElementById(tabName + 'Badge');
                if (badge) {
                    if (notificationData[tabName] > 0) {
                        badge.textContent = notificationData[tabName];
                        badge.style.opacity = '1';
                        badge.style.transform = 'scale(1)';
                    } else {
                        badge.style.opacity = '0';
                        badge.style.transform = 'scale(0)';
                    }
                }
            });
        }

        // 切换绩效标签页
        function switchPerformanceTab(tabName, event) {
            // 隐藏所有标签页
            document.getElementById('projectEvaluationTab').classList.add('hidden');
            document.getElementById('departmentEvaluationTab').classList.add('hidden');
            document.getElementById('leadershipEvaluationTab').classList.add('hidden');
            document.getElementById('annualPerformanceTab').classList.add('hidden');
            document.getElementById('targetLibraryTab').classList.add('hidden');
            document.getElementById('taskOutputTab').classList.add('hidden');
            document.getElementById('serviceStarsTab').classList.add('hidden');
            
            // 显示选中的标签页
            document.getElementById(tabName + 'Tab').classList.remove('hidden');
            
            // 隐藏对应页签的徽标
            const badge = document.getElementById(tabName + 'Badge');
            if (badge) {
                badge.style.opacity = '0';
                badge.style.transform = 'scale(0)';
                // 更新消息数据
                notificationData[tabName] = 0;
            }
            
            // 更新标签页样式
            const tabs = document.querySelectorAll('[onclick^="switchPerformanceTab"]');
            tabs.forEach(tab => {
                tab.classList.remove('text-indigo-600', 'border-b-2', 'border-indigo-600');
                tab.classList.add('text-slate-500', 'hover:text-slate-700');
            });
            
            // 为当前选中的标签页添加样式
            if (event && event.target) {
                event.target.classList.remove('text-slate-500', 'hover:text-slate-700');
                event.target.classList.add('text-indigo-600', 'border-b-2', 'border-indigo-600');
            } else {
                // 当没有event对象时，通过tabName找到对应的按钮
                tabs.forEach(tab => {
                    if (tab.getAttribute('onclick') === `switchPerformanceTab('${tabName}', event)`) {
                        tab.classList.remove('text-slate-500', 'hover:text-slate-700');
                        tab.classList.add('text-indigo-600', 'border-b-2', 'border-indigo-600');
                    }
                });
            }
        }
        
        // 部门评价功能
        function evaluateDepartment(center, quarter) {
            // 这里实现部门评价逻辑
            console.log('评价部门 for:', center, quarter);
            // 可以弹出评价表单或跳转到评价页面
            alert(`开始评价${center}${quarter}季度绩效`);
        }
        
        // 领导评价功能
        function evaluateLeadership(center, year) {
            // 这里实现领导评价逻辑
            console.log('评价领导 for:', center, year);
            // 可以弹出评价表单或跳转到评价页面
            alert(`开始评价${center}${year}年度绩效`);
        }
        
        // 签订责任书功能
        function signPerformance(center, year) {
            // 这里实现签订责任书逻辑
            console.log('签订责任书 for:', center, year);
            // 可以弹出签订确认对话框或跳转到签订页面
            alert(`开始签订${center}${year}年度绩效责任书`);
        }
        
        // 任务列表弹窗功能
        let selectedTasks = [];
        let currentCenter = '';
        let currentQuarter = '';
        
        // 打开任务列表弹窗
        function openTaskListModal(center, quarter) {
            currentCenter = center;
            currentQuarter = quarter;
            selectedTasks = [];
            
            // 模拟数据 - 实际项目中应该从API获取
            const tasks = getMockTasks(center, quarter);
            
            // 填充任务列表
            populateTaskList(tasks);
            
            // 更新弹窗标题
            document.getElementById('taskListModalTitle').textContent = `${center} ${quarter} 任务列表`;
            
            // 显示弹窗
            document.getElementById('taskListModal').classList.remove('hidden');
            
            // 默认全选
            selectAllTasks(true);
        }
        
        // 打开催办任务列表弹窗
        function openTaskUrgeModal(center, quarter) {
            openTaskListModal(center, quarter);
        }
        
        // 打开详情任务列表弹窗
        function openTaskDetailModal(center, quarter) {
            currentCenter = center;
            currentQuarter = quarter;
            selectedTasks = [];
            
            // 模拟数据
            const tasks = getMockTasks(center, quarter);
            
            // 填充任务列表
            populateTaskList(tasks);
            
            // 更新弹窗标题
            document.getElementById('taskListModalTitle').textContent = `${center} ${quarter} 任务详情`;
            
            // 隐藏一键催办按钮
            document.getElementById('urgeAllButton').classList.add('hidden');
            document.getElementById('urgeAllButtonBottom').classList.add('hidden');
            
            // 显示弹窗
            document.getElementById('taskListModal').classList.remove('hidden');
        }
        
        // 关闭任务列表弹窗
        function closeTaskListModal() {
            document.getElementById('taskListModal').classList.add('hidden');
            // 重置状态
            selectedTasks = [];
            currentCenter = '';
            currentQuarter = '';
        }
        
        // 获取模拟任务数据
        function getMockTasks(center, quarter) {
            return [
                { id: 1, name: '机场T3航站楼图纸深化', center: center, quarter: quarter, status: '已完成', assignee: '李设计', deadline: '2026/01/15' },
                { id: 2, name: '技术方案审核', center: center, quarter: quarter, status: '已完成', assignee: '王总工', deadline: '2026/01/14' },
                { id: 3, name: '材料采购计划', center: center, quarter: quarter, status: '已完成', assignee: '张经理', deadline: '2026/01/13' },
                { id: 4, name: '进度报告', center: center, quarter: quarter, status: '已完成', assignee: '李经理', deadline: '2026/01/12' },
                { id: 5, name: '质量检查', center: center, quarter: quarter, status: '已完成', assignee: '王工', deadline: '2026/01/11' }
            ];
        }
        
        // 填充任务列表
        function populateTaskList(tasks) {
            const tbody = document.getElementById('taskListTableBody');
            tbody.innerHTML = '';
            
            tasks.forEach(task => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4">
                        <input type="checkbox" class="task-checkbox" value="${task.id}" checked>
                    </td>
                    <td class="px-6 py-4">${task.name}</td>
                    <td class="px-6 py-4">${task.center}</td>
                    <td class="px-6 py-4">${task.quarter}</td>
                    <td class="px-6 py-4">${task.status}</td>
                    <td class="px-6 py-4">${task.assignee}</td>
                    <td class="px-6 py-4">${task.deadline}</td>
                    <td class="px-6 py-4 text-right">
                        <button class="text-indigo-600 hover:underline" onclick="navigateTo('tasks.html')">查看详情</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
            
            // 绑定复选框事件
            bindCheckboxEvents();
        }
        
        // 绑定复选框事件
        function bindCheckboxEvents() {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.addEventListener('change', function() {
                    updateSelectedTasks();
                });
            });
        }
        
        // 更新选中的任务
        function updateSelectedTasks() {
            const checkboxes = document.querySelectorAll('.task-checkbox:checked');
            selectedTasks = Array.from(checkboxes).map(cb => cb.value);
            
            // 更新选中数量显示
            document.getElementById('selectedCount').textContent = selectedTasks.length;
            document.getElementById('selectedCountBottom').textContent = selectedTasks.length;
        }
        
        // 全选/取消全选
        function selectAllTasks(select) {
            const checkboxes = document.querySelectorAll('.task-checkbox');
            checkboxes.forEach(checkbox => {
                checkbox.checked = select;
            });
            updateSelectedTasks();
        }
        
        // 一键催办
        function urgeSelectedTasks() {
            if (selectedTasks.length === 0) {
                alert('请选择要催办的任务');
                return;
            }
            
            console.log('催办任务:', selectedTasks);
            alert(`已对${selectedTasks.length}个任务发起催办`);
            closeTaskListModal();
        }
        
        // 筛选任务
        function filterTasks() {
            // 这里实现筛选逻辑
            console.log('筛选任务');
            alert('筛选功能已触发');
        }
        
        // 重置筛选
        function resetFilters() {
            // 这里实现重置逻辑
            console.log('重置筛选');
            // 重置所有筛选表单
            document.querySelectorAll('#taskListModal input, #taskListModal select').forEach(input => {
                if (input.type === 'text' || input.type === 'date') {
                    input.value = '';
                } else if (input.type === 'select-one') {
                    input.value = '全部';
                }
            });
        }
        
        // 部门/中心季度评价功能
        let departmentEvaluationData = {
            center: '',
            quarter: '',
            collaborationScore: 80,
            efficiencyScore: 85,
            qualityScore: 90,
            improvementSuggestion: ''
        };
        
        // 打开部门评价页面
        function openDepartmentEvaluationPage(center, quarter) {
            departmentEvaluationData.center = center;
            departmentEvaluationData.quarter = quarter;
            
            // 更新页面标题
            document.getElementById('departmentEvaluationTitle').textContent = `${center} ${quarter} 季度评价`;
            
            // 更新任务信息
            document.getElementById('deTaskCenter').textContent = center;
            document.getElementById('deTaskQuarter').textContent = quarter;
            
            // 显示评价页面
            document.getElementById('performance').classList.remove('active');
            document.getElementById('annualPerformanceGoalForm').classList.remove('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.remove('active');
            document.getElementById('departmentEvaluationPage').classList.add('active');
        }
        
        
        
        // 保存评价草稿
        function saveDepartmentEvaluationDraft() {
            // 保存评价数据
            departmentEvaluationData.collaborationScore = parseInt(document.getElementById('collaborationScore').value);
            departmentEvaluationData.efficiencyScore = parseInt(document.getElementById('efficiencyScore').value);
            departmentEvaluationData.qualityScore = parseInt(document.getElementById('qualityScore').value);
            departmentEvaluationData.improvementSuggestion = document.getElementById('improvementSuggestion').value;
            
            console.log('保存评价草稿:', departmentEvaluationData);
            alert('评价草稿已保存');
        }
        
        // 提交部门评价
        function submitDepartmentEvaluation() {
            // 保存评价数据
            departmentEvaluationData.collaborationScore = parseInt(document.getElementById('collaborationScore').value);
            departmentEvaluationData.efficiencyScore = parseInt(document.getElementById('efficiencyScore').value);
            departmentEvaluationData.qualityScore = parseInt(document.getElementById('qualityScore').value);
            departmentEvaluationData.improvementSuggestion = document.getElementById('improvementSuggestion').value;
            
            console.log('提交评价:', departmentEvaluationData);
            alert('评价已提交，进入审批流程');
            // 模拟审批流程
            simulateApprovalProcess('department');
        }
        
        // 更新评分显示
        function updateScoreDisplay(scoreId, displayId, satisfactionId) {
            const score = parseInt(document.getElementById(scoreId).value);
            document.getElementById(displayId).textContent = score;
            
            // 更新满意度显示
            let satisfaction = '';
            if (score >= 90) {
                satisfaction = '非常满意';
            } else if (score >= 80) {
                satisfaction = '满意';
            } else if (score >= 70) {
                satisfaction = '一般';
            } else if (score >= 60) {
                satisfaction = '合格';
            } else {
                satisfaction = '不满意';
            }
            document.getElementById(satisfactionId).textContent = satisfaction;
            
            // 更新综合评分
            updateOverallScore();
        }
        
        // 更新综合评分
        function updateOverallScore() {
            const collaborationScore = parseInt(document.getElementById('collaborationScore').value);
            const efficiencyScore = parseInt(document.getElementById('efficiencyScore').value);
            const qualityScore = parseInt(document.getElementById('qualityScore').value);
            
            // 计算加权平均分
            const overallScore = (collaborationScore * 0.2 + efficiencyScore * 0.3 + qualityScore * 0.5).toFixed(1);
            document.getElementById('overallScore').textContent = overallScore;
        }
        
        // 领导年度评价功能
        let leadershipEvaluationData = {
            center: '',
            year: '',
            overallScore: 85,
            improvementSuggestion: ''
        };
        
        // 打开领导评价页面
        function openLeadershipEvaluationPage(center, year) {
            leadershipEvaluationData.center = center;
            leadershipEvaluationData.year = year;
            
            // 更新页面标题
            document.getElementById('leadershipEvaluationTitle').textContent = `${center} ${year} 年度评价`;
            
            // 更新任务信息
            document.getElementById('leTaskCenter').textContent = center;
            document.getElementById('leTaskYear').textContent = year;
            
            // 显示评价页面
            document.getElementById('performance').classList.remove('active');
            document.getElementById('annualPerformanceGoalForm').classList.remove('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.remove('active');
            document.getElementById('departmentEvaluationPage').classList.remove('active');
            document.getElementById('leadershipEvaluationPage').classList.add('active');
        }
        
        // 返回绩效页面（领导评价）
        function backToPerformancePageFromLeadership() {
            // 显示绩效页面
            document.getElementById('performance').classList.add('active');
            // 隐藏所有表单页面
            document.getElementById('annualPerformanceGoalForm').classList.remove('active');
            document.getElementById('targetResponsibilityEvaluationForm').classList.remove('active');
            document.getElementById('departmentEvaluationPage').classList.remove('active');
            document.getElementById('leadershipEvaluationPage').classList.remove('active');
        }
        
        // 保存领导评价草稿
        function saveLeadershipEvaluationDraft() {
            // 保存评价数据
            leadershipEvaluationData.overallScore = parseInt(document.getElementById('leadershipOverallScore').value);
            leadershipEvaluationData.improvementSuggestion = document.getElementById('leadershipImprovementSuggestion').value;
            
            console.log('保存领导评价草稿:', leadershipEvaluationData);
            alert('评价草稿已保存');
        }
        
        // 提交领导评价
        function submitLeadershipEvaluation() {
            // 保存评价数据
            leadershipEvaluationData.overallScore = parseInt(document.getElementById('leadershipOverallScore').value);
            leadershipEvaluationData.improvementSuggestion = document.getElementById('leadershipImprovementSuggestion').value;
            
            console.log('提交领导评价:', leadershipEvaluationData);
            alert('评价已提交，进入审批流程');
            // 模拟审批流程
            simulateApprovalProcess('leadership');
        }
        
        // 更新领导评价显示
        function updateLeadershipScoreDisplay() {
            const score = parseInt(document.getElementById('leadershipOverallScore').value);
            document.getElementById('leadershipScoreDisplay').textContent = score;
            
            // 更新满意度显示
            let satisfaction = '';
            if (score >= 90) {
                satisfaction = '非常满意';
            } else if (score >= 80) {
                satisfaction = '满意';
            } else if (score >= 70) {
                satisfaction = '一般';
            } else if (score >= 60) {
                satisfaction = '合格';
            } else {
                satisfaction = '不满意';
            }
            document.getElementById('leadershipSatisfaction').textContent = satisfaction;
        }
        
        // 模拟审批流程
        function simulateApprovalProcess(type) {
            console.log('开始审批流程:', type);
            // 这里可以实现实际的审批流程逻辑
            setTimeout(() => {
                alert('审批流程已启动，请注意查看审批状态');
            }, 1000);
        }
        
        // 查看评价详情
        function viewEvaluationDetail(type, id) {
            console.log('查看评价详情:', type, id);
            alert('查看评价详情功能已触发');
        }
    </script>

    <!-- 任务列表弹窗 -->
    <div id="taskListModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
        <div class="bg-white rounded-2xl shadow-xl max-w-6xl w-full max-h-[90vh] overflow-y-auto mx-4 sm:mx-6 md:mx-8">
            <div class="p-6 border-b border-slate-100 flex justify-between items-center">
                <h3 id="taskListModalTitle" class="text-xl font-bold text-slate-800">任务列表</h3>
                <button onclick="closeTaskListModal()" class="w-8 h-8 rounded-full bg-slate-100 flex items-center justify-center text-slate-500 hover:bg-slate-200 hover:text-slate-700 transition-colors">
                    <i data-lucide="x" class="w-4 h-4"></i>
                </button>
            </div>
            
            <div class="p-6">
                <!-- 筛选功能区 -->
                <div class="mb-6">
                    <h4 class="font-medium text-slate-700 mb-4">筛选条件</h4>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">服务名称</label>
                            <input type="text" placeholder="请输入服务名称" class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">任务项类型</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>设计任务</option>
                                <option>采购任务</option>
                                <option>技术支持</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">支持中心</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>设计中心</option>
                                <option>技术中心</option>
                                <option>供应链中心</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">支持中心人员</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>李设计</option>
                                <option>王采购</option>
                                <option>王总工</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4">
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">评价人员</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>张经理</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">评价项目</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>机场T3航站楼项目</option>
                                <option>二期工程项目</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">评价时间</label>
                            <div class="flex items-center gap-2">
                                <input type="date" class="flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <span class="text-slate-400">-</span>
                                <input type="date" class="flex-1 px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                            </div>
                        </div>
                        <div>
                            <label class="block text-xs text-slate-400 mb-1">评价状态</label>
                            <select class="w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-indigo-100">
                                <option>全部</option>
                                <option>已评价</option>
                                <option>未评价</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="flex flex-wrap gap-3 justify-end mb-6">
                        <button onclick="resetFilters()" class="px-4 py-2 bg-slate-200 text-slate-700 rounded-lg text-sm hover:bg-slate-300">重置</button>
                        <button onclick="filterTasks()" class="px-4 py-2 bg-indigo-600 text-white rounded-lg text-sm hover:bg-indigo-700">筛选</button>
                        <button id="urgeAllButton" onclick="urgeSelectedTasks()" class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700">
                            一键催办 (<span id="selectedCount">0</span>)
                        </button>
                    </div>
                </div>
                
                <!-- 任务列表 -->
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left">
                        <thead class="bg-slate-50 text-slate-500 font-medium">
                            <tr>
                                <th class="px-6 py-4">
                                    <input type="checkbox" onchange="selectAllTasks(this.checked)">
                                </th>
                                <th class="px-6 py-4">任务名称</th>
                                <th class="px-6 py-4">支持中心</th>
                                <th class="px-6 py-4">评价季度</th>
                                <th class="px-6 py-4">任务状态</th>
                                <th class="px-6 py-4">负责人</th>
                                <th class="px-6 py-4">截止时间</th>
                                <th class="px-6 py-4 text-right">操作</th>
                            </tr>
                        </thead>
                        <tbody id="taskListTableBody" class="divide-y divide-slate-100">
                            <!-- 任务列表将通过JavaScript动态填充 -->
                        </tbody>
                    </table>
                </div>
                
                <!-- 底部操作区 -->
                <div class="mt-6 flex justify-between items-center">
                    <div class="text-sm text-slate-500">
                        已选择 <span id="selectedCountBottom">0</span> 个任务
                    </div>
                    <div>
                        <button id="urgeAllButtonBottom" onclick="urgeSelectedTasks()" class="px-4 py-2 bg-red-600 text-white rounded-lg text-sm hover:bg-red-700">
                            一键催办 (<span id="selectedCountBottom">0</span>)
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

</body>
</html>
</parameter>
<index>
0
</index>
</function>